!function(e){var t,s,r,i,n,c,a,u=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(u)&&u.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(s=document.createElement("source"),r=function(e){var t,r,i=e.parentNode;"PICTURE"===i.nodeName.toUpperCase()?(t=s.cloneNode(),i.insertBefore(t,i.firstElementChild),setTimeout(function(){i.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,r=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=r}))},i=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)r(t[e])},n=function(){clearTimeout(t),t=setTimeout(i,99)},c=e.matchMedia&&matchMedia("(orientation: landscape)"),a=function(){n(),c&&c.addListener&&c.addListener(n)},s.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?a():document.addEventListener("DOMContentLoaded",a),n))}(window),function(e,t,s){"use strict";var r,i,n;t.createElement("picture");var c={},a=!1,u=function(){},o=t.createElement("img"),l=o.getAttribute,f=o.setAttribute,d=o.removeAttribute,p=t.documentElement,A={},m={algorithm:""},h="data-pfsrc",g=h+"set",v=navigator.userAgent,w=/rident/.test(v)||/ecko/.test(v)&&v.match(/rv\:(\d+)/)&&RegExp.$1>35,S="currentSrc",x=/\s+\+?\d+(e\d+)?w/,y=/(\([^)]+\))?\s*(.+)/,E=e.picturefillCFG,z="font-size:100%!important;",b=!0,T={},C={},R=e.devicePixelRatio,L={px:1,in:96},M=t.createElement("a"),P=!1,D=/^[ \t\n\r\u000c]+/,B=/^[, \t\n\r\u000c]+/,I=/^[^ \t\n\r\u000c]+/,U=/[,]+$/,$=/^\d+$/,k=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,W=function(e,t,s,r){e.addEventListener?e.addEventListener(t,s,r||!1):e.attachEvent&&e.attachEvent("on"+t,s)},Q=function(e){var t={};return function(s){return s in t||(t[s]=e(s)),t[s]}};function G(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}var H,F,N,O,q,j,V,_,K,J,X,Y,Z,ee,te,se,re,ie,ne,ce=(H=/^([\d\.]+)(em|vw|px)$/,F=Q(function(e){return"return "+function(){for(var e=arguments,t=0,s=e[0];++t in e;)s=s.replace(e[t],e[++t]);return s}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}),function(e,t){var s;if(!(e in T))if(T[e]=!1,t&&(s=e.match(H)))T[e]=s[1]*L[s[2]];else try{T[e]=new Function("e",F(e))(L)}catch(e){}return T[e]}),ae=function(e,t){return e.w?(e.cWidth=c.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},ue=function(e){if(a){var s,r,i,n=e||{};if(n.elements&&1===n.elements.nodeType&&("IMG"===n.elements.nodeName.toUpperCase()?n.elements=[n.elements]:(n.context=n.elements,n.elements=null)),i=(s=n.elements||c.qsa(n.context||t,n.reevaluate||n.reselect?c.sel:c.selShort)).length){for(c.setupRun(n),P=!0,r=0;r<i;r++)c.fillImg(s[r],n);c.teardownRun(n)}}};function oe(e,t){return e.res-t.res}function le(e,t){var s,r,i;if(e&&t)for(i=c.parseSet(t),e=c.makeUrl(e),s=0;s<i.length;s++)if(e===c.makeUrl(i[s].url)){r=i[s];break}return r}e.console&&console.warn,S in o||(S="src"),A["image/jpeg"]=!0,A["image/gif"]=!0,A["image/png"]=!0,A["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),c.ns=("pf"+(new Date).getTime()).substr(0,9),c.supSrcset="srcset"in o,c.supSizes="sizes"in o,c.supPicture=!!e.HTMLPictureElement,c.supSrcset&&c.supPicture&&!c.supSizes&&(N=t.createElement("img"),o.srcset="data:,a",N.src="data:,a",c.supSrcset=o.complete===N.complete,c.supPicture=c.supSrcset&&c.supPicture),c.supSrcset&&!c.supSizes?(O="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",q=t.createElement("img"),j=function(){2===q.width&&(c.supSizes=!0),i=c.supSrcset&&!c.supSizes,a=!0,setTimeout(ue)},q.onload=j,q.onerror=j,q.setAttribute("sizes","9px"),q.srcset=O+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",q.src=O):a=!0,c.selShort="picture>img,img[srcset]",c.sel=c.selShort,c.cfg=m,c.DPR=R||1,c.u=L,c.types=A,c.setSize=u,c.makeUrl=Q(function(e){return M.href=e,M.href}),c.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},c.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?c.matchesMedia=function(e){return!e||matchMedia(e).matches}:c.matchesMedia=c.mMQ,c.matchesMedia.apply(this,arguments)},c.mMQ=function(e){return!e||ce(e)},c.calcLength=function(e){var t=ce(e,!0)||!1;return t<0&&(t=!1),t},c.supportsType=function(e){return!e||A[e]},c.parseSize=Q(function(e){var t=(e||"").match(y);return{media:t&&t[1],length:t&&t[2]}}),c.parseSet=function(e){return e.cands||(e.cands=function(e,t){function s(t){var s,r=t.exec(e.substring(o));if(r)return s=r[0],o+=s.length,s}var r,i,n,c,a,u=e.length,o=0,l=[];function f(){var e,s,n,c,a,u,o,f,d,p=!1,A={};for(c=0;c<i.length;c++)u=(a=i[c])[a.length-1],o=a.substring(0,a.length-1),f=parseInt(o,10),d=parseFloat(o),$.test(o)&&"w"===u?((e||s)&&(p=!0),0===f?p=!0:e=f):k.test(o)&&"x"===u?((e||s||n)&&(p=!0),d<0?p=!0:s=d):$.test(o)&&"h"===u?((n||s)&&(p=!0),0===f?p=!0:n=f):p=!0;p||(A.url=r,e&&(A.w=e),s&&(A.d=s),n&&(A.h=n),n||s||e||(A.d=1),1===A.d&&(t.has1x=!0),A.set=t,l.push(A))}function d(){for(s(D),n="",c="in descriptor";;){if(a=e.charAt(o),"in descriptor"===c)if(G(a))n&&(i.push(n),n="",c="after descriptor");else{if(","===a)return o+=1,n&&i.push(n),void f();if("("===a)n+=a,c="in parens";else{if(""===a)return n&&i.push(n),void f();n+=a}}else if("in parens"===c)if(")"===a)n+=a,c="in descriptor";else{if(""===a)return i.push(n),void f();n+=a}else if("after descriptor"===c)if(G(a));else{if(""===a)return void f();c="in descriptor",o-=1}o+=1}}for(;;){if(s(B),o>=u)return l;r=s(I),i=[],","===r.slice(-1)?(r=r.replace(U,""),f()):d()}}(e.srcset,e)),e.cands},c.getEmValue=function(){var e;if(!r&&(e=t.body)){var s=t.createElement("div"),i=p.style.cssText,n=e.style.cssText;s.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",p.style.cssText=z,e.style.cssText=z,e.appendChild(s),r=s.offsetWidth,e.removeChild(s),r=parseFloat(r,10),p.style.cssText=i,e.style.cssText=n}return r||16},c.calcListLength=function(e){if(!(e in C)||m.uT){var t=c.calcLength(function(e){var t,s,r,i,n,a,u,o=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,l=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(r=(s=function(e){var t,s="",r=[],i=[],n=0,c=0,a=!1;function u(){s&&(r.push(s),s="")}function o(){r[0]&&(i.push(r),r=[])}for(;;){if(""===(t=e.charAt(c)))return u(),o(),i;if(a){if("*"===t&&"/"===e[c+1]){a=!1,c+=2,u();continue}c+=1}else{if(G(t)){if(e.charAt(c-1)&&G(e.charAt(c-1))||!s){c+=1;continue}if(0===n){u(),c+=1;continue}t=" "}else if("("===t)n+=1;else if(")"===t)n-=1;else{if(","===t){u(),o(),c+=1;continue}if("/"===t&&"*"===e.charAt(c+1)){a=!0,c+=2;continue}}s+=t,c+=1}}}(e)).length,t=0;t<r;t++)if(n=(i=s[t])[i.length-1],u=n,o.test(u)&&parseFloat(u)>=0||l.test(u)||"0"===u||"-0"===u||"+0"===u){if(a=n,i.pop(),0===i.length)return a;if(i=i.join(" "),c.matchesMedia(i))return a}return"100vw"}(e));C[e]=t||L.width}return C[e]},c.setRes=function(e){var t;if(e)for(var s=0,r=(t=c.parseSet(e)).length;s<r;s++)ae(t[s],e.sizes);return t},c.setRes.res=ae,c.applySetCandidate=function(e,t){if(e.length){var s,r,i,n,a,u,o,l,f,d,p,A,h,g,v,x,y,E,z,b,T=t[c.ns],C=c.DPR;if(u=T.curSrc||t[S],(o=T.curCan||(d=t,p=u,!(A=e[0].set)&&p&&(A=(A=d[c.ns].sets)&&A[A.length-1]),(h=le(p,A))&&(p=c.makeUrl(p),d[c.ns].curSrc=p,d[c.ns].curCan=h,h.res||ae(h,h.set.sizes)),h))&&o.set===e[0].set&&((f=w&&!t.complete&&o.res-.1>C)||(o.cached=!0,o.res>=C&&(a=o))),!a)for(e.sort(oe),a=e[(n=e.length)-1],r=0;r<n;r++)if((s=e[r]).res>=C){a=e[i=r-1]&&(f||u!==c.makeUrl(s.url))&&(g=e[i].res,v=s.res,x=C,y=e[i].cached,E=void 0,z=void 0,b=void 0,"saveData"===m.algorithm?g>2.7?b=x+1:(z=(v-x)*(E=Math.pow(g-.6,1.5)),y&&(z+=.1*E),b=g+z):b=x>1?Math.sqrt(g*v):g,b>x)?e[i]:s;break}a&&(l=c.makeUrl(a.url),T.curSrc=l,T.curCan=a,l!==u&&c.setSrc(t,a),c.setSize(t))}},c.setSrc=function(e,t){var s;e.src=t.url,"image/svg+xml"===t.set.type&&(s=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=s))},c.getSet=function(e){var t,s,r,i=!1,n=e[c.ns].sets;for(t=0;t<n.length&&!i;t++)if((s=n[t]).srcset&&c.matchesMedia(s.media)&&(r=c.supportsType(s.type))){"pending"===r&&(s=r),i=s;break}return i},c.parseSets=function(e,t,r){var n,a,u,o,p=t&&"PICTURE"===t.nodeName.toUpperCase(),A=e[c.ns];(A.src===s||r.src)&&(A.src=l.call(e,"src"),A.src?f.call(e,h,A.src):d.call(e,h)),(A.srcset===s||r.srcset||!c.supSrcset||e.srcset)&&(n=l.call(e,"srcset"),A.srcset=n,o=!0),A.sets=[],p&&(A.pic=!0,function(e,t){var s,r,i,n,a=e.getElementsByTagName("source");for(s=0,r=a.length;s<r;s++)(i=a[s])[c.ns]=!0,(n=i.getAttribute("srcset"))&&t.push({srcset:n,media:i.getAttribute("media"),type:i.getAttribute("type"),sizes:i.getAttribute("sizes")})}(t,A.sets)),A.srcset?(a={srcset:A.srcset,sizes:l.call(e,"sizes")},A.sets.push(a),(u=(i||A.src)&&x.test(A.srcset||""))||!A.src||le(A.src,a)||a.has1x||(a.srcset+=", "+A.src,a.cands.push({url:A.src,d:1,set:a}))):A.src&&A.sets.push({srcset:A.src,sizes:null}),A.curCan=null,A.curSrc=s,A.supported=!(p||a&&!c.supSrcset||u&&!c.supSizes),o&&c.supSrcset&&!A.supported&&(n?(f.call(e,g,n),e.srcset=""):d.call(e,g)),A.supported&&!A.srcset&&(!A.src&&e.src||e.src!==c.makeUrl(A.src))&&(null===A.src?e.removeAttribute("src"):e.src=A.src),A.parsed=!0},c.fillImg=function(e,t){var s,r,i,a,u,o=t.reselect||t.reevaluate;(e[c.ns]||(e[c.ns]={}),s=e[c.ns],o||s.evaled!==n)&&(s.parsed&&!t.reevaluate||c.parseSets(e,e.parentNode,t),s.supported?s.evaled=n:(r=e,a=c.getSet(r),u=!1,"pending"!==a&&(u=n,a&&(i=c.setRes(a),c.applySetCandidate(i,r))),r[c.ns].evaled=u))},c.setupRun=function(){P&&!b&&R===e.devicePixelRatio||(b=!1,R=e.devicePixelRatio,T={},C={},c.DPR=R||1,L.width=Math.max(e.innerWidth||0,p.clientWidth),L.height=Math.max(e.innerHeight||0,p.clientHeight),L.vw=L.width/100,L.vh=L.height/100,n=[L.height,L.width,R].join("-"),L.em=c.getEmValue(),L.rem=L.em)},c.supPicture?(ue=u,c.fillImg=u):(Z=e.attachEvent?/d$|^c/:/d$|^c|^i/,ee=function(){var e=t.readyState||"";te=setTimeout(ee,"loading"===e?200:999),t.body&&(c.fillImgs(),(V=V||Z.test(e))&&clearTimeout(te))},te=setTimeout(ee,t.body?9:99),se=p.clientHeight,W(e,"resize",(_=function(){b=Math.max(e.innerWidth||0,p.clientWidth)!==L.width||p.clientHeight!==se,se=p.clientHeight,b&&c.fillImgs()},K=99,Y=function(){var e=new Date-X;e<K?J=setTimeout(Y,K-e):(J=null,_())},function(){X=new Date,J||(J=setTimeout(Y,K))})),W(t,"readystatechange",ee)),c.picturefill=ue,c.fillImgs=ue,c.teardownRun=u,ue._=c,e.picturefillCFG={pf:c,push:function(e){var t=e.shift();"function"==typeof c[t]?c[t].apply(c,e):(m[t]=e[0],P&&c.fillImgs({reselect:!0}))}};for(;E&&E.length;)e.picturefillCFG.push(E.shift());e.picturefill=ue,"object"==typeof module&&"object"==typeof module.exports?module.exports=ue:"function"==typeof define&&define.amd&&define("picturefill",function(){return ue}),c.supPicture||(A["image/webp"]=(re="image/webp",ie="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",(ne=new e.Image).onerror=function(){A[re]=!1,ue()},ne.onload=function(){A[re]=1===ne.width,ue()},ne.src=ie,"pending"))}(window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBpY3R1cmVmaWxsLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsInRpbWVyIiwiZHVtbXlTcmMiLCJmaXhSZXNwaW1nIiwiZmluZFBpY3R1cmVJbWdzIiwib25SZXNpemUiLCJtcSIsImluaXQiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIkhUTUxQaWN0dXJlRWxlbWVudCIsInRlc3QiLCJtYXRjaCIsIlJlZ0V4cCIsIiQxIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImltZyIsInNvdXJjZSIsInNpemVzIiwicGljdHVyZSIsInBhcmVudE5vZGUiLCJub2RlTmFtZSIsInRvVXBwZXJDYXNlIiwiY2xvbmVOb2RlIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJzZXRUaW1lb3V0IiwicmVtb3ZlQ2hpbGQiLCJfcGZMYXN0U2l6ZSIsIm9mZnNldFdpZHRoIiwiaSIsImltZ3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiY2xlYXJUaW1lb3V0IiwibWF0Y2hNZWRpYSIsImFkZExpc3RlbmVyIiwic3Jjc2V0IiwicmVhZHlTdGF0ZSIsInVuZGVmaW5lZCIsImVtaW5weCIsImFsd2F5c0NoZWNrV0Rlc2NyaXB0b3IiLCJldmFsSWQiLCJwZiIsImlzU3VwcG9ydFRlc3RSZWFkeSIsIm5vb3AiLCJpbWFnZSIsImdldEltZ0F0dHIiLCJnZXRBdHRyaWJ1dGUiLCJzZXRJbWdBdHRyIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlSW1nQXR0ciIsInJlbW92ZUF0dHJpYnV0ZSIsImRvY0VsZW0iLCJkb2N1bWVudEVsZW1lbnQiLCJ0eXBlcyIsImNmZyIsImFsZ29yaXRobSIsInNyY0F0dHIiLCJzcmNzZXRBdHRyIiwic3VwcG9ydEFib3J0IiwiY3VyU3JjUHJvcCIsInJlZ1dEZXNjIiwicmVnU2l6ZSIsInNldE9wdGlvbnMiLCJwaWN0dXJlZmlsbENGRyIsImZzQ3NzIiwiaXNWd0RpcnR5IiwiY3NzQ2FjaGUiLCJzaXplTGVuZ3RoQ2FjaGUiLCJEUFIiLCJkZXZpY2VQaXhlbFJhdGlvIiwidW5pdHMiLCJweCIsImluIiwiYW5jaG9yIiwiYWxyZWFkeVJ1biIsInJlZ2V4TGVhZGluZ1NwYWNlcyIsInJlZ2V4TGVhZGluZ0NvbW1hc09yU3BhY2VzIiwicmVnZXhMZWFkaW5nTm90U3BhY2VzIiwicmVnZXhUcmFpbGluZ0NvbW1hcyIsInJlZ2V4Tm9uTmVnYXRpdmVJbnRlZ2VyIiwicmVnZXhGbG9hdGluZ1BvaW50Iiwib24iLCJvYmoiLCJldnQiLCJmbiIsImNhcHR1cmUiLCJhdHRhY2hFdmVudCIsIm1lbW9pemUiLCJjYWNoZSIsImlucHV0IiwiaXNTcGFjZSIsImMiLCJyZWdMZW5ndGgiLCJidWlsZFN0ciIsImltYWdlMiIsIndpZHRoMSIsImlzRG9tUmVhZHkiLCJmdW5jIiwid2FpdCIsInRpbWVvdXQiLCJ0aW1lc3RhbXAiLCJsYXRlciIsInJlZ1JlYWR5IiwicnVuIiwidGltZXJJZCIsImxhc3RDbGllbnRXaWR0aCIsInR5cGUiLCJ0eXBlVXJpIiwiZXZhbENTUyIsImNzcyIsImFyZ3MiLCJhcmd1bWVudHMiLCJpbmRleCIsInN0cmluZyIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsInBhcnNlZExlbmd0aCIsIkZ1bmN0aW9uIiwiZSIsInNldFJlc29sdXRpb24iLCJjYW5kaWRhdGUiLCJzaXplc2F0dHIiLCJ3IiwiY1dpZHRoIiwiY2FsY0xpc3RMZW5ndGgiLCJyZXMiLCJkIiwicGljdHVyZWZpbGwiLCJvcHQiLCJlbGVtZW50cyIsInBsZW4iLCJvcHRpb25zIiwibm9kZVR5cGUiLCJjb250ZXh0IiwicXNhIiwicmVldmFsdWF0ZSIsInJlc2VsZWN0Iiwic2VsIiwic2VsU2hvcnQiLCJzZXR1cFJ1biIsImZpbGxJbWciLCJ0ZWFyZG93blJ1biIsImFzY2VuZGluZ1NvcnQiLCJhIiwiYiIsImdldENhbmRpZGF0ZUZvclNyYyIsInNyYyIsInNldCIsImNhbmRpZGF0ZXMiLCJwYXJzZVNldCIsIm1ha2VVcmwiLCJ1cmwiLCJjb25zb2xlIiwid2FybiIsImltcGxlbWVudGF0aW9uIiwiaGFzRmVhdHVyZSIsIm5zIiwiRGF0ZSIsImdldFRpbWUiLCJzdWJzdHIiLCJzdXBTcmNzZXQiLCJzdXBTaXplcyIsInN1cFBpY3R1cmUiLCJjb21wbGV0ZSIsIndpZHRoIiwib25sb2FkIiwib25lcnJvciIsInUiLCJzZXRTaXplIiwiaHJlZiIsIm1hdGNoZXNNZWRpYSIsIm1hdGNoZXMiLCJtZWRpYSIsIm1NUSIsImFwcGx5IiwidGhpcyIsImNhbGNMZW5ndGgiLCJzb3VyY2VTaXplVmFsdWUiLCJ2YWx1ZSIsInN1cHBvcnRzVHlwZSIsInBhcnNlU2l6ZSIsInNvdXJjZVNpemVTdHIiLCJjYW5kcyIsImNvbGxlY3RDaGFyYWN0ZXJzIiwicmVnRXgiLCJjaGFycyIsImV4ZWMiLCJzdWJzdHJpbmciLCJwb3MiLCJkZXNjcmlwdG9ycyIsImN1cnJlbnREZXNjcmlwdG9yIiwic3RhdGUiLCJpbnB1dExlbmd0aCIsInBhcnNlRGVzY3JpcHRvcnMiLCJoIiwiZGVzYyIsImxhc3RDaGFyIiwiaW50VmFsIiwiZmxvYXRWYWwiLCJwRXJyb3IiLCJwYXJzZUludCIsInBhcnNlRmxvYXQiLCJoYXMxeCIsInB1c2giLCJ0b2tlbml6ZSIsImNoYXJBdCIsInNsaWNlIiwicGFyc2VTcmNzZXQiLCJnZXRFbVZhbHVlIiwiYm9keSIsImRpdiIsIm9yaWdpbmFsSFRNTENTUyIsInN0eWxlIiwiY3NzVGV4dCIsIm9yaWdpbmFsQm9keUNTUyIsImFwcGVuZENoaWxkIiwic291cmNlU2l6ZUxpc3RTdHIiLCJ1VCIsIndpbm5pbmdMZW5ndGgiLCJzdHJWYWx1ZSIsInVucGFyc2VkU2l6ZXNMaXN0IiwidW5wYXJzZWRTaXplc0xpc3RMZW5ndGgiLCJ1bnBhcnNlZFNpemUiLCJsYXN0Q29tcG9uZW50VmFsdWUiLCJzaXplIiwicyIsInJlZ2V4Q3NzTGVuZ3RoV2l0aFVuaXRzIiwicmVnZXhDc3NDYWxjIiwic3RyIiwiY2hyY3RyIiwiY29tcG9uZW50IiwiY29tcG9uZW50QXJyYXkiLCJsaXN0QXJyYXkiLCJwYXJlbkRlcHRoIiwiaW5Db21tZW50IiwicHVzaENvbXBvbmVudCIsInB1c2hDb21wb25lbnRBcnJheSIsInBhcnNlQ29tcG9uZW50VmFsdWVzIiwicG9wIiwiam9pbiIsInBhcnNlU2l6ZXMiLCJzZXRSZXMiLCJsZW4iLCJhcHBseVNldENhbmRpZGF0ZSIsImoiLCJiZXN0Q2FuZGlkYXRlIiwiY3VyU3JjIiwiY3VyQ2FuIiwiY2FuZGlkYXRlU3JjIiwiYWJvcnRDdXJTcmMiLCJsb3dlclZhbHVlIiwiaGlnaGVyVmFsdWUiLCJkcHJWYWx1ZSIsImlzQ2FjaGVkIiwiYm9udXNGYWN0b3IiLCJib251cyIsIm1lYW5EZW5zaXR5IiwiaW1hZ2VEYXRhIiwiZHByIiwic2V0cyIsImNhY2hlZCIsInNvcnQiLCJNYXRoIiwicG93Iiwic3FydCIsInNldFNyYyIsIm9yaWdXaWR0aCIsImdldFNldCIsInBhcnNlU2V0cyIsImVsZW1lbnQiLCJwYXJlbnQiLCJzcmNzZXRBdHRyaWJ1dGUiLCJpbWFnZVNldCIsImlzV0Rlc2NyaXBvciIsInNyY3NldFBhcnNlZCIsImhhc1BpY3R1cmUiLCJjYWxsIiwicGljIiwic291cmNlcyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0QWxsU291cmNlRWxlbWVudHMiLCJzdXBwb3J0ZWQiLCJwYXJzZWQiLCJzcmNTZXRDYW5kaWRhdGVzIiwibWF0Y2hpbmdTZXQiLCJldmFsdWF0ZWQiLCJleHRyZW1lIiwiZXZhbGVkIiwibWF4IiwiaW5uZXJXaWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJ2dyIsInZoIiwiZW0iLCJyZW0iLCJmaWxsSW1ncyIsImxhc3QiLCJfIiwibmFtZSIsInNoaWZ0IiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmluZSIsImFtZCIsIkltYWdlIl0sIm1hcHBpbmdzIjoiQ0FTQSxTQUFXQSxHQUVULElBSVFDLEVBRUFDLEVBRUFDLEVB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QUssR0FDYnBDLEdBQ0ZqQyxFQUFHaVEsVUFBVWxLLFVBQVUsT0FNL0IsS0FBTzFFLEdBQWNBLEVBQVcvQixRQUM5QnBDLEVBQU9vRSxlQUFlNEksS0FBSzdJLEVBQVdnUCxTQUl4Q25ULEVBQU9vSSxZQUFjQSxHQUdDLGlCQUFYZ0wsUUFBaUQsaUJBQW5CQSxPQUFPQyxRQUU5Q0QsT0FBT0MsUUFBVWpMLEdBQ1UsbUJBQVhrTCxRQUF5QkEsT0FBT0MsS0FFaERELE9BQU8sY0FBZSxXQUNwQixPQUFPbEwsS0FLTnRGLEVBQUd5SCxhQUNON0csRUFBTSxlQXB2Q21CcUQsR0FvdkNlLGFBcHZDVEMsR0FvdkN1QiwySUFqdkNsRC9ELEdBQVEsSUFBSWpELEVBQU93VCxPQUNqQjdJLFFBQVUsV0FDZGpILEVBQU1xRCxLQUFRLEVBQ2RxQixNQUVGbkYsR0FBTXlILE9BQVMsV0FDYmhILEVBQU1xRCxJQUF3QixJQUFoQjlELEdBQU13SCxNQUNwQnJDLE1BRUZuRixHQUFNc0csSUFBTXZDLEdBQ0wsWUExUFgsQ0FvK0NHaEgsT0FBUWlCIiwiZmlsZSI6InBpY3R1cmVmaWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBwaWN0dXJlZmlsbCAtIHYzLjAuMiAtIDIwMTYtMDItMTJcbiAqIGh0dHBzOi8vc2NvdHRqZWhsLmdpdGh1Yi5pby9waWN0dXJlZmlsbC9cbiAqIENvcHlyaWdodCAoYykgMjAxNiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRqZWhsL3BpY3R1cmVmaWxsL2Jsb2IvbWFzdGVyL0F1dGhvcnMudHh0OyBMaWNlbnNlZCBNSVRcbiAqL1xuLyohIEdlY2tvLVBpY3R1cmUgLSB2MS4wXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRqZWhsL3BpY3R1cmVmaWxsL3RyZWUvMy4wL3NyYy9wbHVnaW5zL2dlY2tvLXBpY3R1cmVcbiAqIEZpcmVmb3gncyBlYXJseSBwaWN0dXJlIGltcGxlbWVudGF0aW9uIChwcmlvciB0byBGRjQxKSBpcyBzdGF0aWMgYW5kIGRvZXNcbiAqIG5vdCByZWFjdCB0byB2aWV3cG9ydCBjaGFuZ2VzLiBUaGlzIHRpbnkgbW9kdWxlIGZpeGVzIHRoaXMuXG4gKi9cbihmdW5jdGlvbiAod2luZG93KSB7XG4gIC8qanNoaW50IGVxbnVsbDp0cnVlICovXG4gIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG5cbiAgaWYgKHdpbmRvdy5IVE1MUGljdHVyZUVsZW1lbnQgJiYgKCgvZWNrby8pLnRlc3QodWEpICYmIHVhLm1hdGNoKC9ydlxcOihcXGQrKS8pICYmIFJlZ0V4cC4kMSA8IDQ1KSkge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0aW1lcjtcblxuICAgICAgdmFyIGR1bW15U3JjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNvdXJjZVwiKTtcblxuICAgICAgdmFyIGZpeFJlc3BpbWcgPSBmdW5jdGlvbiAoaW1nKSB7XG4gICAgICAgIHZhciBzb3VyY2UsIHNpemVzO1xuICAgICAgICB2YXIgcGljdHVyZSA9IGltZy5wYXJlbnROb2RlO1xuXG4gICAgICAgIGlmIChwaWN0dXJlLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiUElDVFVSRVwiKSB7XG4gICAgICAgICAgc291cmNlID0gZHVtbXlTcmMuY2xvbmVOb2RlKCk7XG5cbiAgICAgICAgICBwaWN0dXJlLmluc2VydEJlZm9yZShzb3VyY2UsIHBpY3R1cmUuZmlyc3RFbGVtZW50Q2hpbGQpO1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGljdHVyZS5yZW1vdmVDaGlsZChzb3VyY2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKCFpbWcuX3BmTGFzdFNpemUgfHwgaW1nLm9mZnNldFdpZHRoID4gaW1nLl9wZkxhc3RTaXplKSB7XG4gICAgICAgICAgaW1nLl9wZkxhc3RTaXplID0gaW1nLm9mZnNldFdpZHRoO1xuICAgICAgICAgIHNpemVzID0gaW1nLnNpemVzO1xuICAgICAgICAgIGltZy5zaXplcyArPSBcIiwxMDB2d1wiO1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW1nLnNpemVzID0gc2l6ZXM7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBmaW5kUGljdHVyZUltZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgaW1ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJwaWN0dXJlID4gaW1nLCBpbWdbc3Jjc2V0XVtzaXplc11cIik7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBpbWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgZml4UmVzcGltZyhpbWdzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciBvblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZpbmRQaWN0dXJlSW1ncywgOTkpO1xuICAgICAgfTtcbiAgICAgIHZhciBtcSA9IHdpbmRvdy5tYXRjaE1lZGlhICYmIG1hdGNoTWVkaWEoXCIob3JpZW50YXRpb246IGxhbmRzY2FwZSlcIik7XG4gICAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb25SZXNpemUoKTtcblxuICAgICAgICBpZiAobXEgJiYgbXEuYWRkTGlzdGVuZXIpIHtcbiAgICAgICAgICBtcS5hZGRMaXN0ZW5lcihvblJlc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGR1bW15U3JjLnNyY3NldCA9IFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBQUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT1cIjtcblxuICAgICAgaWYgKC9eW2N8aV18ZCQvLnRlc3QoZG9jdW1lbnQucmVhZHlTdGF0ZSB8fCBcIlwiKSkge1xuICAgICAgICBpbml0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBpbml0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uUmVzaXplO1xuICAgIH0pKCkpO1xuICB9XG59KSh3aW5kb3cpO1xuXG4vKiEgUGljdHVyZWZpbGwgLSB2My4wLjJcbiAqIGh0dHA6Ly9zY290dGplaGwuZ2l0aHViLmlvL3BpY3R1cmVmaWxsXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUgaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0amVobC9waWN0dXJlZmlsbC9ibG9iL21hc3Rlci9BdXRob3JzLnR4dDtcbiAqICBMaWNlbnNlOiBNSVRcbiAqL1xuXG4oZnVuY3Rpb24gKHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuICAvLyBFbmFibGUgc3RyaWN0IG1vZGVcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLy8gSFRNTCBzaGltfHYgaXQgZm9yIG9sZCBJRSAoSUU5IHdpbGwgc3RpbGwgbmVlZCB0aGUgSFRNTCB2aWRlbyB0YWcgd29ya2Fyb3VuZClcbiAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBpY3R1cmVcIik7XG5cbiAgdmFyIHdhcm4sIGVtaW5weCwgYWx3YXlzQ2hlY2tXRGVzY3JpcHRvciwgZXZhbElkO1xuICAvLyBsb2NhbCBvYmplY3QgZm9yIG1ldGhvZCByZWZlcmVuY2VzIGFuZCB0ZXN0aW5nIGV4cG9zdXJlXG4gIHZhciBwZiA9IHt9O1xuICB2YXIgaXNTdXBwb3J0VGVzdFJlYWR5ID0gZmFsc2U7XG4gIHZhciBub29wID0gZnVuY3Rpb24gKCkge1xuICB9O1xuICB2YXIgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICB2YXIgZ2V0SW1nQXR0ciA9IGltYWdlLmdldEF0dHJpYnV0ZTtcbiAgdmFyIHNldEltZ0F0dHIgPSBpbWFnZS5zZXRBdHRyaWJ1dGU7XG4gIHZhciByZW1vdmVJbWdBdHRyID0gaW1hZ2UucmVtb3ZlQXR0cmlidXRlO1xuICB2YXIgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgdmFyIHR5cGVzID0ge307XG4gIHZhciBjZmcgPSB7XG4gICAgLy9yZXNvdXJjZSBzZWxlY3Rpb246XG4gICAgYWxnb3JpdGhtOiBcIlwiXG4gIH07XG4gIHZhciBzcmNBdHRyID0gXCJkYXRhLXBmc3JjXCI7XG4gIHZhciBzcmNzZXRBdHRyID0gc3JjQXR0ciArIFwic2V0XCI7XG4gIC8vIHVhIHNuaWZmaW5nIGlzIGRvbmUgZm9yIHVuZGV0ZWN0YWJsZSBpbWcgbG9hZGluZyBmZWF0dXJlcyxcbiAgLy8gdG8gZG8gc29tZSBub24gY3J1Y2lhbCBwZXJmIG9wdGltaXphdGlvbnNcbiAgdmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgdmFyIHN1cHBvcnRBYm9ydCA9ICgvcmlkZW50LykudGVzdCh1YSkgfHwgKCgvZWNrby8pLnRlc3QodWEpICYmIHVhLm1hdGNoKC9ydlxcOihcXGQrKS8pICYmIFJlZ0V4cC4kMSA+IDM1KTtcbiAgdmFyIGN1clNyY1Byb3AgPSBcImN1cnJlbnRTcmNcIjtcbiAgdmFyIHJlZ1dEZXNjID0gL1xccytcXCs/XFxkKyhlXFxkKyk/dy87XG4gIHZhciByZWdTaXplID0gLyhcXChbXildK1xcKSk/XFxzKiguKykvO1xuICB2YXIgc2V0T3B0aW9ucyA9IHdpbmRvdy5waWN0dXJlZmlsbENGRztcbiAgLyoqXG4gICAqIFNob3J0Y3V0IHByb3BlcnR5IGZvciBodHRwczovL3czYy5naXRodWIuaW8vd2ViYXBwc2VjL3NwZWNzL21peGVkY29udGVudC8jcmVzdHJpY3RzLW1peGVkLWNvbnRlbnQgKCBmb3IgZWFzeSBvdmVycmlkaW5nIGluIHRlc3RzIClcbiAgICovXG4gICAgLy8gYmFzZVN0eWxlIGFsc28gdXNlZCBieSBnZXRFbVZhbHVlIChpLmUuOiB3aWR0aDogMWVtIGlzIGltcG9ydGFudClcbiAgdmFyIGJhc2VTdHlsZSA9IFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3Zpc2liaWxpdHk6aGlkZGVuO2Rpc3BsYXk6YmxvY2s7cGFkZGluZzowO2JvcmRlcjpub25lO2ZvbnQtc2l6ZToxZW07d2lkdGg6MWVtO292ZXJmbG93OmhpZGRlbjtjbGlwOnJlY3QoMHB4LCAwcHgsIDBweCwgMHB4KVwiO1xuICB2YXIgZnNDc3MgPSBcImZvbnQtc2l6ZToxMDAlIWltcG9ydGFudDtcIjtcbiAgdmFyIGlzVndEaXJ0eSA9IHRydWU7XG5cbiAgdmFyIGNzc0NhY2hlID0ge307XG4gIHZhciBzaXplTGVuZ3RoQ2FjaGUgPSB7fTtcbiAgdmFyIERQUiA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICB2YXIgdW5pdHMgPSB7XG4gICAgcHg6IDEsXG4gICAgXCJpblwiOiA5NlxuICB9O1xuICB2YXIgYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gIC8qKlxuICAgKiBhbHJlYWR5UnVuIGZsYWcgdXNlZCBmb3Igc2V0T3B0aW9ucy4gaXMgaXQgdHJ1ZSBzZXRPcHRpb25zIHdpbGwgcmVldmFsdWF0ZVxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIHZhciBhbHJlYWR5UnVuID0gZmFsc2U7XG5cbiAgLy8gUmV1c2FibGUsIG5vbi1cImdcIiBSZWdleGVzXG5cbiAgLy8gKERvbid0IHVzZSBcXHMsIHRvIGF2b2lkIG1hdGNoaW5nIG5vbi1icmVha2luZyBzcGFjZS4pXG4gIHZhciByZWdleExlYWRpbmdTcGFjZXMgPSAvXlsgXFx0XFxuXFxyXFx1MDAwY10rLyxcbiAgICByZWdleExlYWRpbmdDb21tYXNPclNwYWNlcyA9IC9eWywgXFx0XFxuXFxyXFx1MDAwY10rLyxcbiAgICByZWdleExlYWRpbmdOb3RTcGFjZXMgPSAvXlteIFxcdFxcblxcclxcdTAwMGNdKy8sXG4gICAgcmVnZXhUcmFpbGluZ0NvbW1hcyA9IC9bLF0rJC8sXG4gICAgcmVnZXhOb25OZWdhdGl2ZUludGVnZXIgPSAvXlxcZCskLyxcblxuICAgIC8vICggUG9zaXRpdmUgb3IgbmVnYXRpdmUgb3IgdW5zaWduZWQgaW50ZWdlcnMgb3IgZGVjaW1hbHMsIHdpdGhvdXQgb3Igd2l0aG91dCBleHBvbmVudHMuXG4gICAgLy8gTXVzdCBpbmNsdWRlIGF0IGxlYXN0IG9uZSBkaWdpdC5cbiAgICAvLyBBY2NvcmRpbmcgdG8gc3BlYyB0ZXN0cyBhbnkgZGVjaW1hbCBwb2ludCBtdXN0IGJlIGZvbGxvd2VkIGJ5IGEgZGlnaXQuXG4gICAgLy8gTm8gbGVhZGluZyBwbHVzIHNpZ24gaXMgYWxsb3dlZC4pXG4gICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5mcmFzdHJ1Y3R1cmUuaHRtbCN2YWxpZC1mbG9hdGluZy1wb2ludC1udW1iZXJcbiAgICByZWdleEZsb2F0aW5nUG9pbnQgPSAvXi0/KD86WzAtOV0rfFswLTldKlxcLlswLTldKykoPzpbZUVdWystXT9bMC05XSspPyQvO1xuXG4gIHZhciBvbiA9IGZ1bmN0aW9uIChvYmosIGV2dCwgZm4sIGNhcHR1cmUpIHtcbiAgICBpZiAob2JqLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2dCwgZm4sIGNhcHR1cmUgfHwgZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAob2JqLmF0dGFjaEV2ZW50KSB7XG4gICAgICBvYmouYXR0YWNoRXZlbnQoXCJvblwiICsgZXZ0LCBmbik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBzaW1wbGUgbWVtb2l6ZSBmdW5jdGlvbjpcbiAgICovXG5cbiAgdmFyIG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICB2YXIgY2FjaGUgPSB7fTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICBpZiAoIShpbnB1dCBpbiBjYWNoZSkpIHtcbiAgICAgICAgY2FjaGVbaW5wdXRdID0gZm4oaW5wdXQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhY2hlW2lucHV0XTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFVUSUxJVFkgRlVOQ1RJT05TXG5cbiAgLy8gTWFudWFsIGlzIGZhc3RlciB0aGFuIFJlZ0V4XG4gIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3doaXRlc3BhY2UtY2hhcmFjdGVyLzVcbiAgZnVuY3Rpb24gaXNTcGFjZShjKSB7XG4gICAgcmV0dXJuIChjID09PSBcIlxcdTAwMjBcIiB8fCAvLyBzcGFjZVxuICAgICAgYyA9PT0gXCJcXHUwMDA5XCIgfHwgLy8gaG9yaXpvbnRhbCB0YWJcbiAgICAgIGMgPT09IFwiXFx1MDAwQVwiIHx8IC8vIG5ldyBsaW5lXG4gICAgICBjID09PSBcIlxcdTAwMENcIiB8fCAvLyBmb3JtIGZlZWRcbiAgICAgIGMgPT09IFwiXFx1MDAwRFwiKTsgIC8vIGNhcnJpYWdlIHJldHVyblxuICB9XG5cbiAgLyoqXG4gICAqIGdldHMgYSBtZWRpYXF1ZXJ5IGFuZCByZXR1cm5zIGEgYm9vbGVhbiBvciBnZXRzIGEgY3NzIGxlbmd0aCBhbmQgcmV0dXJucyBhIG51bWJlclxuICAgKiBAcGFyYW0gY3NzIG1lZGlhcXVlcmllcyBvciBjc3MgbGVuZ3RoXG4gICAqIEByZXR1cm5zIHtib29sZWFufG51bWJlcn1cbiAgICpcbiAgICogYmFzZWQgb246IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2pvbmF0aGFudG5lYWwvZGI0Zjc3MDA5YjE1NWYwODM3MzhcbiAgICovXG4gIHZhciBldmFsQ1NTID0gKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciByZWdMZW5ndGggPSAvXihbXFxkXFwuXSspKGVtfHZ3fHB4KSQvO1xuICAgIHZhciByZXBsYWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsIGluZGV4ID0gMCwgc3RyaW5nID0gYXJnc1swXTtcbiAgICAgIHdoaWxlICgrK2luZGV4IGluIGFyZ3MpIHtcbiAgICAgICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoYXJnc1tpbmRleF0sIGFyZ3NbKytpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9O1xuXG4gICAgdmFyIGJ1aWxkU3RyID0gbWVtb2l6ZShmdW5jdGlvbiAoY3NzKSB7XG5cbiAgICAgIHJldHVybiBcInJldHVybiBcIiArIHJlcGxhY2UoKGNzcyB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAvLyBpbnRlcnByZXQgYGFuZGBcbiAgICAgICAgL1xcYmFuZFxcYi9nLCBcIiYmXCIsXG5cbiAgICAgICAgLy8gaW50ZXJwcmV0IGAsYFxuICAgICAgICAvLC9nLCBcInx8XCIsXG5cbiAgICAgICAgLy8gaW50ZXJwcmV0IGBtaW4tYCBhcyA+PVxuICAgICAgICAvbWluLShbYS16LVxcc10rKTovZywgXCJlLiQxPj1cIixcblxuICAgICAgICAvLyBpbnRlcnByZXQgYG1heC1gIGFzIDw9XG4gICAgICAgIC9tYXgtKFthLXotXFxzXSspOi9nLCBcImUuJDE8PVwiLFxuXG4gICAgICAgIC8vY2FsYyB2YWx1ZVxuICAgICAgICAvY2FsYyhbXildKykvZywgXCIoJDEpXCIsXG5cbiAgICAgICAgLy8gaW50ZXJwcmV0IGNzcyB2YWx1ZXNcbiAgICAgICAgLyhcXGQrW1xcLl0qW1xcZF0qKShbYS16XSspL2csIFwiKCQxICogZS4kMilcIixcbiAgICAgICAgLy9tYWtlIGV2YWwgbGVzcyBldmlsXG4gICAgICAgIC9eKD8hKGUuW2Etel18WzAtOVxcLiY9fD48XFwrXFwtXFwqXFwoXFwpXFwvXSkpLiovaWcsIFwiXCJcbiAgICAgICkgKyBcIjtcIjtcbiAgICB9KTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoY3NzLCBsZW5ndGgpIHtcbiAgICAgIHZhciBwYXJzZWRMZW5ndGg7XG4gICAgICBpZiAoIShjc3MgaW4gY3NzQ2FjaGUpKSB7XG4gICAgICAgIGNzc0NhY2hlW2Nzc10gPSBmYWxzZTtcbiAgICAgICAgaWYgKGxlbmd0aCAmJiAocGFyc2VkTGVuZ3RoID0gY3NzLm1hdGNoKHJlZ0xlbmd0aCkpKSB7XG4gICAgICAgICAgY3NzQ2FjaGVbY3NzXSA9IHBhcnNlZExlbmd0aFsxXSAqIHVuaXRzW3BhcnNlZExlbmd0aFsyXV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLypqc2hpbnQgZXZpbDp0cnVlICovXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNzc0NhY2hlW2Nzc10gPSBuZXcgRnVuY3Rpb24oXCJlXCIsIGJ1aWxkU3RyKGNzcykpKHVuaXRzKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qanNoaW50IGV2aWw6ZmFsc2UgKi9cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNzc0NhY2hlW2Nzc107XG4gICAgfTtcbiAgfSkoKTtcblxuICB2YXIgc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChjYW5kaWRhdGUsIHNpemVzYXR0cikge1xuICAgIGlmIChjYW5kaWRhdGUudykgeyAvLyBoID0gbWVhbnMgaGVpZ2h0OiB8fCBkZXNjcmlwdG9yLnR5cGUgPT09ICdoJyBkbyBub3QgaGFuZGxlIHlldC4uLlxuICAgICAgY2FuZGlkYXRlLmNXaWR0aCA9IHBmLmNhbGNMaXN0TGVuZ3RoKHNpemVzYXR0ciB8fCBcIjEwMHZ3XCIpO1xuICAgICAgY2FuZGlkYXRlLnJlcyA9IGNhbmRpZGF0ZS53IC8gY2FuZGlkYXRlLmNXaWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FuZGlkYXRlLnJlcyA9IGNhbmRpZGF0ZS5kO1xuICAgIH1cbiAgICByZXR1cm4gY2FuZGlkYXRlO1xuICB9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gb3B0XG4gICAqL1xuICB2YXIgcGljdHVyZWZpbGwgPSBmdW5jdGlvbiAob3B0KSB7XG5cbiAgICBpZiAoIWlzU3VwcG9ydFRlc3RSZWFkeSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBlbGVtZW50cywgaSwgcGxlbjtcblxuICAgIHZhciBvcHRpb25zID0gb3B0IHx8IHt9O1xuXG4gICAgaWYgKG9wdGlvbnMuZWxlbWVudHMgJiYgb3B0aW9ucy5lbGVtZW50cy5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgaWYgKG9wdGlvbnMuZWxlbWVudHMubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gXCJJTUdcIikge1xuICAgICAgICBvcHRpb25zLmVsZW1lbnRzID0gW29wdGlvbnMuZWxlbWVudHNdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9ucy5jb250ZXh0ID0gb3B0aW9ucy5lbGVtZW50cztcbiAgICAgICAgb3B0aW9ucy5lbGVtZW50cyA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZWxlbWVudHMgPSBvcHRpb25zLmVsZW1lbnRzIHx8IHBmLnFzYSgob3B0aW9ucy5jb250ZXh0IHx8IGRvY3VtZW50KSwgKG9wdGlvbnMucmVldmFsdWF0ZSB8fCBvcHRpb25zLnJlc2VsZWN0KSA/IHBmLnNlbCA6IHBmLnNlbFNob3J0KTtcblxuICAgIGlmICgocGxlbiA9IGVsZW1lbnRzLmxlbmd0aCkpIHtcblxuICAgICAgcGYuc2V0dXBSdW4ob3B0aW9ucyk7XG4gICAgICBhbHJlYWR5UnVuID0gdHJ1ZTtcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBlbGVtZW50c1xuICAgICAgZm9yIChpID0gMDsgaSA8IHBsZW47IGkrKykge1xuICAgICAgICBwZi5maWxsSW1nKGVsZW1lbnRzW2ldLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcGYudGVhcmRvd25SdW4ob3B0aW9ucyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBvdXRwdXRzIGEgd2FybmluZyBmb3IgdGhlIGRldmVsb3BlclxuICAgKiBAcGFyYW0ge21lc3NhZ2V9XG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICovXG4gIHdhcm4gPSAod2luZG93LmNvbnNvbGUgJiYgY29uc29sZS53YXJuKSA/XG4gICAgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICB9IDpcbiAgICBub29wXG4gIDtcblxuICBpZiAoIShjdXJTcmNQcm9wIGluIGltYWdlKSkge1xuICAgIGN1clNyY1Byb3AgPSBcInNyY1wiO1xuICB9XG5cbiAgLy8gQWRkIHN1cHBvcnQgZm9yIHN0YW5kYXJkIG1pbWUgdHlwZXMuXG4gIHR5cGVzW1wiaW1hZ2UvanBlZ1wiXSA9IHRydWU7XG4gIHR5cGVzW1wiaW1hZ2UvZ2lmXCJdID0gdHJ1ZTtcbiAgdHlwZXNbXCJpbWFnZS9wbmdcIl0gPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIGRldGVjdFR5cGVTdXBwb3J0KHR5cGUsIHR5cGVVcmkpIHtcbiAgICAvLyBiYXNlZCBvbiBNb2Rlcm5penIncyBsb3NzbGVzcyBpbWctd2VicCB0ZXN0XG4gICAgLy8gbm90ZTogYXN5bmNocm9ub3VzXG4gICAgdmFyIGltYWdlID0gbmV3IHdpbmRvdy5JbWFnZSgpO1xuICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0eXBlc1t0eXBlXSA9IGZhbHNlO1xuICAgICAgcGljdHVyZWZpbGwoKTtcbiAgICB9O1xuICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHR5cGVzW3R5cGVdID0gaW1hZ2Uud2lkdGggPT09IDE7XG4gICAgICBwaWN0dXJlZmlsbCgpO1xuICAgIH07XG4gICAgaW1hZ2Uuc3JjID0gdHlwZVVyaTtcbiAgICByZXR1cm4gXCJwZW5kaW5nXCI7XG4gIH1cblxuICAvLyB0ZXN0IHN2ZyBzdXBwb3J0XG4gIHR5cGVzW1wiaW1hZ2Uvc3ZnK3htbFwiXSA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoXCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0ltYWdlXCIsIFwiMS4xXCIpO1xuXG4gIC8qKlxuICAgKiB1cGRhdGVzIHRoZSBpbnRlcm5hbCB2VyBwcm9wZXJ0eSB3aXRoIHRoZSBjdXJyZW50IHZpZXdwb3J0IHdpZHRoIGluIHB4XG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVNZXRyaWNzKCkge1xuXG4gICAgaXNWd0RpcnR5ID0gZmFsc2U7XG4gICAgRFBSID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgY3NzQ2FjaGUgPSB7fTtcbiAgICBzaXplTGVuZ3RoQ2FjaGUgPSB7fTtcblxuICAgIHBmLkRQUiA9IERQUiB8fCAxO1xuXG4gICAgdW5pdHMud2lkdGggPSBNYXRoLm1heCh3aW5kb3cuaW5uZXJXaWR0aCB8fCAwLCBkb2NFbGVtLmNsaWVudFdpZHRoKTtcbiAgICB1bml0cy5oZWlnaHQgPSBNYXRoLm1heCh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMCwgZG9jRWxlbS5jbGllbnRIZWlnaHQpO1xuXG4gICAgdW5pdHMudncgPSB1bml0cy53aWR0aCAvIDEwMDtcbiAgICB1bml0cy52aCA9IHVuaXRzLmhlaWdodCAvIDEwMDtcblxuICAgIGV2YWxJZCA9IFt1bml0cy5oZWlnaHQsIHVuaXRzLndpZHRoLCBEUFJdLmpvaW4oXCItXCIpO1xuXG4gICAgdW5pdHMuZW0gPSBwZi5nZXRFbVZhbHVlKCk7XG4gICAgdW5pdHMucmVtID0gdW5pdHMuZW07XG4gIH1cblxuICBmdW5jdGlvbiBjaG9vc2VMb3dSZXMobG93ZXJWYWx1ZSwgaGlnaGVyVmFsdWUsIGRwclZhbHVlLCBpc0NhY2hlZCkge1xuICAgIHZhciBib251c0ZhY3RvciwgdG9vTXVjaCwgYm9udXMsIG1lYW5EZW5zaXR5O1xuXG4gICAgLy9leHBlcmltZW50YWxcbiAgICBpZiAoY2ZnLmFsZ29yaXRobSA9PT0gXCJzYXZlRGF0YVwiKSB7XG4gICAgICBpZiAobG93ZXJWYWx1ZSA+IDIuNykge1xuICAgICAgICBtZWFuRGVuc2l0eSA9IGRwclZhbHVlICsgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvb011Y2ggPSBoaWdoZXJWYWx1ZSAtIGRwclZhbHVlO1xuICAgICAgICBib251c0ZhY3RvciA9IE1hdGgucG93KGxvd2VyVmFsdWUgLSAwLjYsIDEuNSk7XG5cbiAgICAgICAgYm9udXMgPSB0b29NdWNoICogYm9udXNGYWN0b3I7XG5cbiAgICAgICAgaWYgKGlzQ2FjaGVkKSB7XG4gICAgICAgICAgYm9udXMgKz0gMC4xICogYm9udXNGYWN0b3I7XG4gICAgICAgIH1cblxuICAgICAgICBtZWFuRGVuc2l0eSA9IGxvd2VyVmFsdWUgKyBib251cztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbWVhbkRlbnNpdHkgPSAoZHByVmFsdWUgPiAxKSA/XG4gICAgICAgIE1hdGguc3FydChsb3dlclZhbHVlICogaGlnaGVyVmFsdWUpIDpcbiAgICAgICAgbG93ZXJWYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVhbkRlbnNpdHkgPiBkcHJWYWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGx5QmVzdENhbmRpZGF0ZShpbWcpIHtcbiAgICB2YXIgc3JjU2V0Q2FuZGlkYXRlcztcbiAgICB2YXIgbWF0Y2hpbmdTZXQgPSBwZi5nZXRTZXQoaW1nKTtcbiAgICB2YXIgZXZhbHVhdGVkID0gZmFsc2U7XG4gICAgaWYgKG1hdGNoaW5nU2V0ICE9PSBcInBlbmRpbmdcIikge1xuICAgICAgZXZhbHVhdGVkID0gZXZhbElkO1xuICAgICAgaWYgKG1hdGNoaW5nU2V0KSB7XG4gICAgICAgIHNyY1NldENhbmRpZGF0ZXMgPSBwZi5zZXRSZXMobWF0Y2hpbmdTZXQpO1xuICAgICAgICBwZi5hcHBseVNldENhbmRpZGF0ZShzcmNTZXRDYW5kaWRhdGVzLCBpbWcpO1xuICAgICAgfVxuICAgIH1cbiAgICBpbWdbcGYubnNdLmV2YWxlZCA9IGV2YWx1YXRlZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFzY2VuZGluZ1NvcnQoYSwgYikge1xuICAgIHJldHVybiBhLnJlcyAtIGIucmVzO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U3JjVG9DdXIoaW1nLCBzcmMsIHNldCkge1xuICAgIHZhciBjYW5kaWRhdGU7XG4gICAgaWYgKCFzZXQgJiYgc3JjKSB7XG4gICAgICBzZXQgPSBpbWdbcGYubnNdLnNldHM7XG4gICAgICBzZXQgPSBzZXQgJiYgc2V0W3NldC5sZW5ndGggLSAxXTtcbiAgICB9XG5cbiAgICBjYW5kaWRhdGUgPSBnZXRDYW5kaWRhdGVGb3JTcmMoc3JjLCBzZXQpO1xuXG4gICAgaWYgKGNhbmRpZGF0ZSkge1xuICAgICAgc3JjID0gcGYubWFrZVVybChzcmMpO1xuICAgICAgaW1nW3BmLm5zXS5jdXJTcmMgPSBzcmM7XG4gICAgICBpbWdbcGYubnNdLmN1ckNhbiA9IGNhbmRpZGF0ZTtcblxuICAgICAgaWYgKCFjYW5kaWRhdGUucmVzKSB7XG4gICAgICAgIHNldFJlc29sdXRpb24oY2FuZGlkYXRlLCBjYW5kaWRhdGUuc2V0LnNpemVzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNhbmRpZGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENhbmRpZGF0ZUZvclNyYyhzcmMsIHNldCkge1xuICAgIHZhciBpLCBjYW5kaWRhdGUsIGNhbmRpZGF0ZXM7XG4gICAgaWYgKHNyYyAmJiBzZXQpIHtcbiAgICAgIGNhbmRpZGF0ZXMgPSBwZi5wYXJzZVNldChzZXQpO1xuICAgICAgc3JjID0gcGYubWFrZVVybChzcmMpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGNhbmRpZGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNyYyA9PT0gcGYubWFrZVVybChjYW5kaWRhdGVzW2ldLnVybCkpIHtcbiAgICAgICAgICBjYW5kaWRhdGUgPSBjYW5kaWRhdGVzW2ldO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYW5kaWRhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBbGxTb3VyY2VFbGVtZW50cyhwaWN0dXJlLCBjYW5kaWRhdGVzKSB7XG4gICAgdmFyIGksIGxlbiwgc291cmNlLCBzcmNzZXQ7XG5cbiAgICAvLyBTUEVDIG1pc21hdGNoIGludGVuZGVkIGZvciBzaXplIGFuZCBwZXJmOlxuICAgIC8vIGFjdHVhbGx5IG9ubHkgc291cmNlIGVsZW1lbnRzIHByZWNlZGluZyB0aGUgaW1nIHNob3VsZCBiZSB1c2VkXG4gICAgLy8gYWxzbyBub3RlOiBkb24ndCB1c2UgcXNhIGhlcmUsIGJlY2F1c2UgSUU4IHNvbWV0aW1lcyBkb2Vzbid0IGxpa2Ugc291cmNlIGFzIHRoZSBrZXkgcGFydCBpbiBhIHNlbGVjdG9yXG4gICAgdmFyIHNvdXJjZXMgPSBwaWN0dXJlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic291cmNlXCIpO1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gc291cmNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgc291cmNlID0gc291cmNlc1tpXTtcbiAgICAgIHNvdXJjZVtwZi5uc10gPSB0cnVlO1xuICAgICAgc3Jjc2V0ID0gc291cmNlLmdldEF0dHJpYnV0ZShcInNyY3NldFwiKTtcblxuICAgICAgLy8gaWYgc291cmNlIGRvZXMgbm90IGhhdmUgYSBzcmNzZXQgYXR0cmlidXRlLCBza2lwXG4gICAgICBpZiAoc3Jjc2V0KSB7XG4gICAgICAgIGNhbmRpZGF0ZXMucHVzaCh7XG4gICAgICAgICAgc3Jjc2V0OiBzcmNzZXQsXG4gICAgICAgICAgbWVkaWE6IHNvdXJjZS5nZXRBdHRyaWJ1dGUoXCJtZWRpYVwiKSxcbiAgICAgICAgICB0eXBlOiBzb3VyY2UuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSxcbiAgICAgICAgICBzaXplczogc291cmNlLmdldEF0dHJpYnV0ZShcInNpemVzXCIpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTcmNzZXQgUGFyc2VyXG4gICAqIEJ5IEFsZXggQmVsbCB8ICBNSVQgTGljZW5zZVxuICAgKlxuICAgKiBAcmV0dXJucyBBcnJheSBbe3VybDogXywgZDogXywgdzogXywgaDpfLCBzZXQ6Xyg/Pz8/KX0sIC4uLl1cbiAgICpcbiAgICogQmFzZWQgc3VwZXIgZHVwZXIgY2xvc2VseSBvbiB0aGUgcmVmZXJlbmNlIGFsZ29yaXRobSBhdDpcbiAgICogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI3BhcnNlLWEtc3Jjc2V0LWF0dHJpYnV0ZVxuICAgKi9cblxuICAvLyAxLiBMZXQgaW5wdXQgYmUgdGhlIHZhbHVlIHBhc3NlZCB0byB0aGlzIGFsZ29yaXRobS5cbiAgLy8gKFRPLURPIDogRXhwbGFpbiB3aGF0IFwic2V0XCIgYXJndW1lbnQgaXMgaGVyZS4gTWF5YmUgY2hvb3NlIGEgbW9yZVxuICAvLyBkZXNjcmlwdGl2ZSAmIG1vcmUgc2VhcmNoYWJsZSBuYW1lLiAgU2luY2UgcGFzc2luZyB0aGUgXCJzZXRcIiBpbiByZWFsbHkgaGFzXG4gIC8vIG5vdGhpbmcgdG8gZG8gd2l0aCBwYXJzaW5nIHByb3BlciwgSSB3b3VsZCBwcmVmZXIgdGhpcyBhc3NpZ25tZW50IGV2ZW50dWFsbHlcbiAgLy8gZ28gaW4gYW4gZXh0ZXJuYWwgZm4uKVxuICBmdW5jdGlvbiBwYXJzZVNyY3NldChpbnB1dCwgc2V0KSB7XG5cbiAgICBmdW5jdGlvbiBjb2xsZWN0Q2hhcmFjdGVycyhyZWdFeCkge1xuICAgICAgdmFyIGNoYXJzLFxuICAgICAgICBtYXRjaCA9IHJlZ0V4LmV4ZWMoaW5wdXQuc3Vic3RyaW5nKHBvcykpO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGNoYXJzID0gbWF0Y2hbMF07XG4gICAgICAgIHBvcyArPSBjaGFycy5sZW5ndGg7XG4gICAgICAgIHJldHVybiBjaGFycztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG4gICAgICB1cmwsXG4gICAgICBkZXNjcmlwdG9ycyxcbiAgICAgIGN1cnJlbnREZXNjcmlwdG9yLFxuICAgICAgc3RhdGUsXG4gICAgICBjLFxuXG4gICAgICAvLyAyLiBMZXQgcG9zaXRpb24gYmUgYSBwb2ludGVyIGludG8gaW5wdXQsIGluaXRpYWxseSBwb2ludGluZyBhdCB0aGUgc3RhcnRcbiAgICAgIC8vICAgIG9mIHRoZSBzdHJpbmcuXG4gICAgICBwb3MgPSAwLFxuXG4gICAgICAvLyAzLiBMZXQgY2FuZGlkYXRlcyBiZSBhbiBpbml0aWFsbHkgZW1wdHkgc291cmNlIHNldC5cbiAgICAgIGNhbmRpZGF0ZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgZGVzY3JpcHRvciBwcm9wZXJ0aWVzIHRvIGEgY2FuZGlkYXRlLCBwdXNoZXMgdG8gdGhlIGNhbmRpZGF0ZXMgYXJyYXlcbiAgICAgKiBAcmV0dXJuIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIC8vIChEZWNsYXJlZCBvdXRzaWRlIG9mIHRoZSB3aGlsZSBsb29wIHNvIHRoYXQgaXQncyBvbmx5IGNyZWF0ZWQgb25jZS5cbiAgICAvLyAoVGhpcyBmbiBpcyBkZWZpbmVkIGJlZm9yZSBpdCBpcyB1c2VkLCBpbiBvcmRlciB0byBwYXNzIEpTSElOVC5cbiAgICAvLyBVbmZvcnR1bmF0ZWx5IHRoaXMgYnJlYWtzIHRoZSBzZXF1ZW5jaW5nIG9mIHRoZSBzcGVjIGNvbW1lbnRzLiA6LyApXG4gICAgZnVuY3Rpb24gcGFyc2VEZXNjcmlwdG9ycygpIHtcblxuICAgICAgLy8gOS4gRGVzY3JpcHRvciBwYXJzZXI6IExldCBlcnJvciBiZSBuby5cbiAgICAgIHZhciBwRXJyb3IgPSBmYWxzZSxcblxuICAgICAgICAvLyAxMC4gTGV0IHdpZHRoIGJlIGFic2VudC5cbiAgICAgICAgLy8gMTEuIExldCBkZW5zaXR5IGJlIGFic2VudC5cbiAgICAgICAgLy8gMTIuIExldCBmdXR1cmUtY29tcGF0LWggYmUgYWJzZW50LiAoV2UncmUgaW1wbGVtZW50aW5nIGl0IG5vdyBhcyBoKVxuICAgICAgICB3LCBkLCBoLCBpLFxuICAgICAgICBjYW5kaWRhdGUgPSB7fSxcbiAgICAgICAgZGVzYywgbGFzdENoYXIsIHZhbHVlLCBpbnRWYWwsIGZsb2F0VmFsO1xuXG4gICAgICAvLyAxMy4gRm9yIGVhY2ggZGVzY3JpcHRvciBpbiBkZXNjcmlwdG9ycywgcnVuIHRoZSBhcHByb3ByaWF0ZSBzZXQgb2Ygc3RlcHNcbiAgICAgIC8vIGZyb20gdGhlIGZvbGxvd2luZyBsaXN0OlxuICAgICAgZm9yIChpID0gMDsgaSA8IGRlc2NyaXB0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGRlc2MgPSBkZXNjcmlwdG9yc1tpXTtcblxuICAgICAgICBsYXN0Q2hhciA9IGRlc2NbZGVzYy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFsdWUgPSBkZXNjLnN1YnN0cmluZygwLCBkZXNjLmxlbmd0aCAtIDEpO1xuICAgICAgICBpbnRWYWwgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICBmbG9hdFZhbCA9IHBhcnNlRmxvYXQodmFsdWUpO1xuXG4gICAgICAgIC8vIElmIHRoZSBkZXNjcmlwdG9yIGNvbnNpc3RzIG9mIGEgdmFsaWQgbm9uLW5lZ2F0aXZlIGludGVnZXIgZm9sbG93ZWQgYnlcbiAgICAgICAgLy8gYSBVKzAwNzcgTEFUSU4gU01BTEwgTEVUVEVSIFcgY2hhcmFjdGVyXG4gICAgICAgIGlmIChyZWdleE5vbk5lZ2F0aXZlSW50ZWdlci50ZXN0KHZhbHVlKSAmJiAobGFzdENoYXIgPT09IFwid1wiKSkge1xuXG4gICAgICAgICAgLy8gSWYgd2lkdGggYW5kIGRlbnNpdHkgYXJlIG5vdCBib3RoIGFic2VudCwgdGhlbiBsZXQgZXJyb3IgYmUgeWVzLlxuICAgICAgICAgIGlmICh3IHx8IGQpIHtcbiAgICAgICAgICAgIHBFcnJvciA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQXBwbHkgdGhlIHJ1bGVzIGZvciBwYXJzaW5nIG5vbi1uZWdhdGl2ZSBpbnRlZ2VycyB0byB0aGUgZGVzY3JpcHRvci5cbiAgICAgICAgICAvLyBJZiB0aGUgcmVzdWx0IGlzIHplcm8sIGxldCBlcnJvciBiZSB5ZXMuXG4gICAgICAgICAgLy8gT3RoZXJ3aXNlLCBsZXQgd2lkdGggYmUgdGhlIHJlc3VsdC5cbiAgICAgICAgICBpZiAoaW50VmFsID09PSAwKSB7XG4gICAgICAgICAgICBwRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3ID0gaW50VmFsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHRoZSBkZXNjcmlwdG9yIGNvbnNpc3RzIG9mIGEgdmFsaWQgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGZvbGxvd2VkIGJ5XG4gICAgICAgICAgLy8gYSBVKzAwNzggTEFUSU4gU01BTEwgTEVUVEVSIFggY2hhcmFjdGVyXG4gICAgICAgIH0gZWxzZSBpZiAocmVnZXhGbG9hdGluZ1BvaW50LnRlc3QodmFsdWUpICYmIChsYXN0Q2hhciA9PT0gXCJ4XCIpKSB7XG5cbiAgICAgICAgICAvLyBJZiB3aWR0aCwgZGVuc2l0eSBhbmQgZnV0dXJlLWNvbXBhdC1oIGFyZSBub3QgYWxsIGFic2VudCwgdGhlbiBsZXQgZXJyb3JcbiAgICAgICAgICAvLyBiZSB5ZXMuXG4gICAgICAgICAgaWYgKHcgfHwgZCB8fCBoKSB7XG4gICAgICAgICAgICBwRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFwcGx5IHRoZSBydWxlcyBmb3IgcGFyc2luZyBmbG9hdGluZy1wb2ludCBudW1iZXIgdmFsdWVzIHRvIHRoZSBkZXNjcmlwdG9yLlxuICAgICAgICAgIC8vIElmIHRoZSByZXN1bHQgaXMgbGVzcyB0aGFuIHplcm8sIGxldCBlcnJvciBiZSB5ZXMuIE90aGVyd2lzZSwgbGV0IGRlbnNpdHlcbiAgICAgICAgICAvLyBiZSB0aGUgcmVzdWx0LlxuICAgICAgICAgIGlmIChmbG9hdFZhbCA8IDApIHtcbiAgICAgICAgICAgIHBFcnJvciA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGQgPSBmbG9hdFZhbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJZiB0aGUgZGVzY3JpcHRvciBjb25zaXN0cyBvZiBhIHZhbGlkIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyIGZvbGxvd2VkIGJ5XG4gICAgICAgICAgLy8gYSBVKzAwNjggTEFUSU4gU01BTEwgTEVUVEVSIEggY2hhcmFjdGVyXG4gICAgICAgIH0gZWxzZSBpZiAocmVnZXhOb25OZWdhdGl2ZUludGVnZXIudGVzdCh2YWx1ZSkgJiYgKGxhc3RDaGFyID09PSBcImhcIikpIHtcblxuICAgICAgICAgIC8vIElmIGhlaWdodCBhbmQgZGVuc2l0eSBhcmUgbm90IGJvdGggYWJzZW50LCB0aGVuIGxldCBlcnJvciBiZSB5ZXMuXG4gICAgICAgICAgaWYgKGggfHwgZCkge1xuICAgICAgICAgICAgcEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBBcHBseSB0aGUgcnVsZXMgZm9yIHBhcnNpbmcgbm9uLW5lZ2F0aXZlIGludGVnZXJzIHRvIHRoZSBkZXNjcmlwdG9yLlxuICAgICAgICAgIC8vIElmIHRoZSByZXN1bHQgaXMgemVybywgbGV0IGVycm9yIGJlIHllcy4gT3RoZXJ3aXNlLCBsZXQgZnV0dXJlLWNvbXBhdC1oXG4gICAgICAgICAgLy8gYmUgdGhlIHJlc3VsdC5cbiAgICAgICAgICBpZiAoaW50VmFsID09PSAwKSB7XG4gICAgICAgICAgICBwRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoID0gaW50VmFsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFueXRoaW5nIGVsc2UsIExldCBlcnJvciBiZSB5ZXMuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcEVycm9yID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSAvLyAoY2xvc2Ugc3RlcCAxMyBmb3IgbG9vcClcblxuICAgICAgLy8gMTUuIElmIGVycm9yIGlzIHN0aWxsIG5vLCB0aGVuIGFwcGVuZCBhIG5ldyBpbWFnZSBzb3VyY2UgdG8gY2FuZGlkYXRlcyB3aG9zZVxuICAgICAgLy8gVVJMIGlzIHVybCwgYXNzb2NpYXRlZCB3aXRoIGEgd2lkdGggd2lkdGggaWYgbm90IGFic2VudCBhbmQgYSBwaXhlbFxuICAgICAgLy8gZGVuc2l0eSBkZW5zaXR5IGlmIG5vdCBhYnNlbnQuIE90aGVyd2lzZSwgdGhlcmUgaXMgYSBwYXJzZSBlcnJvci5cbiAgICAgIGlmICghcEVycm9yKSB7XG4gICAgICAgIGNhbmRpZGF0ZS51cmwgPSB1cmw7XG5cbiAgICAgICAgaWYgKHcpIHtcbiAgICAgICAgICBjYW5kaWRhdGUudyA9IHc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGQpIHtcbiAgICAgICAgICBjYW5kaWRhdGUuZCA9IGQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGgpIHtcbiAgICAgICAgICBjYW5kaWRhdGUuaCA9IGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoICYmICFkICYmICF3KSB7XG4gICAgICAgICAgY2FuZGlkYXRlLmQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYW5kaWRhdGUuZCA9PT0gMSkge1xuICAgICAgICAgIHNldC5oYXMxeCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FuZGlkYXRlLnNldCA9IHNldDtcblxuICAgICAgICBjYW5kaWRhdGVzLnB1c2goY2FuZGlkYXRlKTtcbiAgICAgIH1cbiAgICB9IC8vIChjbG9zZSBwYXJzZURlc2NyaXB0b3JzIGZuKVxuXG4gICAgLyoqXG4gICAgICogVG9rZW5pemVzIGRlc2NyaXB0b3IgcHJvcGVydGllcyBwcmlvciB0byBwYXJzaW5nXG4gICAgICogUmV0dXJucyB1bmRlZmluZWQuXG4gICAgICogKEFnYWluLCB0aGlzIGZuIGlzIGRlZmluZWQgYmVmb3JlIGl0IGlzIHVzZWQsIGluIG9yZGVyIHRvIHBhc3MgSlNISU5ULlxuICAgICAqIFVuZm9ydHVuYXRlbHkgdGhpcyBicmVha3MgdGhlIGxvZ2ljYWwgc2VxdWVuY2luZyBvZiB0aGUgc3BlYyBjb21tZW50cy4gOi8gKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRva2VuaXplKCkge1xuXG4gICAgICAvLyA4LjEuIERlc2NyaXB0b3IgdG9rZW5pc2VyOiBTa2lwIHdoaXRlc3BhY2VcbiAgICAgIGNvbGxlY3RDaGFyYWN0ZXJzKHJlZ2V4TGVhZGluZ1NwYWNlcyk7XG5cbiAgICAgIC8vIDguMi4gTGV0IGN1cnJlbnQgZGVzY3JpcHRvciBiZSB0aGUgZW1wdHkgc3RyaW5nLlxuICAgICAgY3VycmVudERlc2NyaXB0b3IgPSBcIlwiO1xuXG4gICAgICAvLyA4LjMuIExldCBzdGF0ZSBiZSBpbiBkZXNjcmlwdG9yLlxuICAgICAgc3RhdGUgPSBcImluIGRlc2NyaXB0b3JcIjtcblxuICAgICAgd2hpbGUgKHRydWUpIHtcblxuICAgICAgICAvLyA4LjQuIExldCBjIGJlIHRoZSBjaGFyYWN0ZXIgYXQgcG9zaXRpb24uXG4gICAgICAgIGMgPSBpbnB1dC5jaGFyQXQocG9zKTtcblxuICAgICAgICAvLyAgRG8gdGhlIGZvbGxvd2luZyBkZXBlbmRpbmcgb24gdGhlIHZhbHVlIG9mIHN0YXRlLlxuICAgICAgICAvLyAgRm9yIHRoZSBwdXJwb3NlIG9mIHRoaXMgc3RlcCwgXCJFT0ZcIiBpcyBhIHNwZWNpYWwgY2hhcmFjdGVyIHJlcHJlc2VudGluZ1xuICAgICAgICAvLyAgdGhhdCBwb3NpdGlvbiBpcyBwYXN0IHRoZSBlbmQgb2YgaW5wdXQuXG5cbiAgICAgICAgLy8gSW4gZGVzY3JpcHRvclxuICAgICAgICBpZiAoc3RhdGUgPT09IFwiaW4gZGVzY3JpcHRvclwiKSB7XG4gICAgICAgICAgLy8gRG8gdGhlIGZvbGxvd2luZywgZGVwZW5kaW5nIG9uIHRoZSB2YWx1ZSBvZiBjOlxuXG4gICAgICAgICAgLy8gU3BhY2UgY2hhcmFjdGVyXG4gICAgICAgICAgLy8gSWYgY3VycmVudCBkZXNjcmlwdG9yIGlzIG5vdCBlbXB0eSwgYXBwZW5kIGN1cnJlbnQgZGVzY3JpcHRvciB0b1xuICAgICAgICAgIC8vIGRlc2NyaXB0b3JzIGFuZCBsZXQgY3VycmVudCBkZXNjcmlwdG9yIGJlIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICAgICAgLy8gU2V0IHN0YXRlIHRvIGFmdGVyIGRlc2NyaXB0b3IuXG4gICAgICAgICAgaWYgKGlzU3BhY2UoYykpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50RGVzY3JpcHRvcikge1xuICAgICAgICAgICAgICBkZXNjcmlwdG9ycy5wdXNoKGN1cnJlbnREZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgY3VycmVudERlc2NyaXB0b3IgPSBcIlwiO1xuICAgICAgICAgICAgICBzdGF0ZSA9IFwiYWZ0ZXIgZGVzY3JpcHRvclwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVKzAwMkMgQ09NTUEgKCwpXG4gICAgICAgICAgICAvLyBBZHZhbmNlIHBvc2l0aW9uIHRvIHRoZSBuZXh0IGNoYXJhY3RlciBpbiBpbnB1dC4gSWYgY3VycmVudCBkZXNjcmlwdG9yXG4gICAgICAgICAgICAvLyBpcyBub3QgZW1wdHksIGFwcGVuZCBjdXJyZW50IGRlc2NyaXB0b3IgdG8gZGVzY3JpcHRvcnMuIEp1bXAgdG8gdGhlIHN0ZXBcbiAgICAgICAgICAgIC8vIGxhYmVsZWQgZGVzY3JpcHRvciBwYXJzZXIuXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSBcIixcIikge1xuICAgICAgICAgICAgcG9zICs9IDE7XG4gICAgICAgICAgICBpZiAoY3VycmVudERlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgICAgZGVzY3JpcHRvcnMucHVzaChjdXJyZW50RGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZURlc2NyaXB0b3JzKCk7XG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIFUrMDAyOCBMRUZUIFBBUkVOVEhFU0lTICgoKVxuICAgICAgICAgICAgLy8gQXBwZW5kIGMgdG8gY3VycmVudCBkZXNjcmlwdG9yLiBTZXQgc3RhdGUgdG8gaW4gcGFyZW5zLlxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gXCJcXHUwMDI4XCIpIHtcbiAgICAgICAgICAgIGN1cnJlbnREZXNjcmlwdG9yID0gY3VycmVudERlc2NyaXB0b3IgKyBjO1xuICAgICAgICAgICAgc3RhdGUgPSBcImluIHBhcmVuc1wiO1xuXG4gICAgICAgICAgICAvLyBFT0ZcbiAgICAgICAgICAgIC8vIElmIGN1cnJlbnQgZGVzY3JpcHRvciBpcyBub3QgZW1wdHksIGFwcGVuZCBjdXJyZW50IGRlc2NyaXB0b3IgdG9cbiAgICAgICAgICAgIC8vIGRlc2NyaXB0b3JzLiBKdW1wIHRvIHRoZSBzdGVwIGxhYmVsZWQgZGVzY3JpcHRvciBwYXJzZXIuXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSBcIlwiKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudERlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgICAgZGVzY3JpcHRvcnMucHVzaChjdXJyZW50RGVzY3JpcHRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZURlc2NyaXB0b3JzKCk7XG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIEFueXRoaW5nIGVsc2VcbiAgICAgICAgICAgIC8vIEFwcGVuZCBjIHRvIGN1cnJlbnQgZGVzY3JpcHRvci5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudERlc2NyaXB0b3IgPSBjdXJyZW50RGVzY3JpcHRvciArIGM7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIChlbmQgXCJpbiBkZXNjcmlwdG9yXCJcblxuICAgICAgICAgIC8vIEluIHBhcmVuc1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBcImluIHBhcmVuc1wiKSB7XG5cbiAgICAgICAgICAvLyBVKzAwMjkgUklHSFQgUEFSRU5USEVTSVMgKCkpXG4gICAgICAgICAgLy8gQXBwZW5kIGMgdG8gY3VycmVudCBkZXNjcmlwdG9yLiBTZXQgc3RhdGUgdG8gaW4gZGVzY3JpcHRvci5cbiAgICAgICAgICBpZiAoYyA9PT0gXCIpXCIpIHtcbiAgICAgICAgICAgIGN1cnJlbnREZXNjcmlwdG9yID0gY3VycmVudERlc2NyaXB0b3IgKyBjO1xuICAgICAgICAgICAgc3RhdGUgPSBcImluIGRlc2NyaXB0b3JcIjtcblxuICAgICAgICAgICAgLy8gRU9GXG4gICAgICAgICAgICAvLyBBcHBlbmQgY3VycmVudCBkZXNjcmlwdG9yIHRvIGRlc2NyaXB0b3JzLiBKdW1wIHRvIHRoZSBzdGVwIGxhYmVsZWRcbiAgICAgICAgICAgIC8vIGRlc2NyaXB0b3IgcGFyc2VyLlxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gXCJcIikge1xuICAgICAgICAgICAgZGVzY3JpcHRvcnMucHVzaChjdXJyZW50RGVzY3JpcHRvcik7XG4gICAgICAgICAgICBwYXJzZURlc2NyaXB0b3JzKCk7XG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIEFueXRoaW5nIGVsc2VcbiAgICAgICAgICAgIC8vIEFwcGVuZCBjIHRvIGN1cnJlbnQgZGVzY3JpcHRvci5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudERlc2NyaXB0b3IgPSBjdXJyZW50RGVzY3JpcHRvciArIGM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQWZ0ZXIgZGVzY3JpcHRvclxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBcImFmdGVyIGRlc2NyaXB0b3JcIikge1xuXG4gICAgICAgICAgLy8gRG8gdGhlIGZvbGxvd2luZywgZGVwZW5kaW5nIG9uIHRoZSB2YWx1ZSBvZiBjOlxuICAgICAgICAgIC8vIFNwYWNlIGNoYXJhY3RlcjogU3RheSBpbiB0aGlzIHN0YXRlLlxuICAgICAgICAgIGlmIChpc1NwYWNlKGMpKSB7XG5cbiAgICAgICAgICAgIC8vIEVPRjogSnVtcCB0byB0aGUgc3RlcCBsYWJlbGVkIGRlc2NyaXB0b3IgcGFyc2VyLlxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gXCJcIikge1xuICAgICAgICAgICAgcGFyc2VEZXNjcmlwdG9ycygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBBbnl0aGluZyBlbHNlXG4gICAgICAgICAgICAvLyBTZXQgc3RhdGUgdG8gaW4gZGVzY3JpcHRvci4gU2V0IHBvc2l0aW9uIHRvIHRoZSBwcmV2aW91cyBjaGFyYWN0ZXIgaW4gaW5wdXQuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlID0gXCJpbiBkZXNjcmlwdG9yXCI7XG4gICAgICAgICAgICBwb3MgLT0gMTtcblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkdmFuY2UgcG9zaXRpb24gdG8gdGhlIG5leHQgY2hhcmFjdGVyIGluIGlucHV0LlxuICAgICAgICBwb3MgKz0gMTtcblxuICAgICAgICAvLyBSZXBlYXQgdGhpcyBzdGVwLlxuICAgICAgfSAvLyAoY2xvc2Ugd2hpbGUgdHJ1ZSBsb29wKVxuICAgIH1cblxuICAgIC8vIDQuIFNwbGl0dGluZyBsb29wOiBDb2xsZWN0IGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyB0aGF0IGFyZSBzcGFjZVxuICAgIC8vICAgIGNoYXJhY3RlcnMgb3IgVSswMDJDIENPTU1BIGNoYXJhY3RlcnMuIElmIGFueSBVKzAwMkMgQ09NTUEgY2hhcmFjdGVyc1xuICAgIC8vICAgIHdlcmUgY29sbGVjdGVkLCB0aGF0IGlzIGEgcGFyc2UgZXJyb3IuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbGxlY3RDaGFyYWN0ZXJzKHJlZ2V4TGVhZGluZ0NvbW1hc09yU3BhY2VzKTtcblxuICAgICAgLy8gNS4gSWYgcG9zaXRpb24gaXMgcGFzdCB0aGUgZW5kIG9mIGlucHV0LCByZXR1cm4gY2FuZGlkYXRlcyBhbmQgYWJvcnQgdGhlc2Ugc3RlcHMuXG4gICAgICBpZiAocG9zID49IGlucHV0TGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBjYW5kaWRhdGVzOyAvLyAod2UncmUgZG9uZSwgdGhpcyBpcyB0aGUgc29sZSByZXR1cm4gcGF0aClcbiAgICAgIH1cblxuICAgICAgLy8gNi4gQ29sbGVjdCBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IHNwYWNlIGNoYXJhY3RlcnMsXG4gICAgICAvLyAgICBhbmQgbGV0IHRoYXQgYmUgdXJsLlxuICAgICAgdXJsID0gY29sbGVjdENoYXJhY3RlcnMocmVnZXhMZWFkaW5nTm90U3BhY2VzKTtcblxuICAgICAgLy8gNy4gTGV0IGRlc2NyaXB0b3JzIGJlIGEgbmV3IGVtcHR5IGxpc3QuXG4gICAgICBkZXNjcmlwdG9ycyA9IFtdO1xuXG4gICAgICAvLyA4LiBJZiB1cmwgZW5kcyB3aXRoIGEgVSswMDJDIENPTU1BIGNoYXJhY3RlciAoLCksIGZvbGxvdyB0aGVzZSBzdWJzdGVwczpcbiAgICAgIC8vXHRcdCgxKS4gUmVtb3ZlIGFsbCB0cmFpbGluZyBVKzAwMkMgQ09NTUEgY2hhcmFjdGVycyBmcm9tIHVybC4gSWYgdGhpcyByZW1vdmVkXG4gICAgICAvLyAgICAgICAgIG1vcmUgdGhhbiBvbmUgY2hhcmFjdGVyLCB0aGF0IGlzIGEgcGFyc2UgZXJyb3IuXG4gICAgICBpZiAodXJsLnNsaWNlKC0xKSA9PT0gXCIsXCIpIHtcbiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UocmVnZXhUcmFpbGluZ0NvbW1hcywgXCJcIik7XG4gICAgICAgIC8vIChKdW1wIGFoZWFkIHRvIHN0ZXAgOSB0byBza2lwIHRva2VuaXphdGlvbiBhbmQganVzdCBwdXNoIHRoZSBjYW5kaWRhdGUpLlxuICAgICAgICBwYXJzZURlc2NyaXB0b3JzKCk7XG5cbiAgICAgICAgLy9cdE90aGVyd2lzZSwgZm9sbG93IHRoZXNlIHN1YnN0ZXBzOlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9rZW5pemUoKTtcbiAgICAgIH0gLy8gKGNsb3NlIGVsc2Ugb2Ygc3RlcCA4KVxuXG4gICAgICAvLyAxNi4gUmV0dXJuIHRvIHRoZSBzdGVwIGxhYmVsZWQgc3BsaXR0aW5nIGxvb3AuXG4gICAgfSAvLyAoQ2xvc2Ugb2YgYmlnIHdoaWxlIGxvb3AuKVxuICB9XG5cbiAgLypcbiAgICAgKiBTaXplcyBQYXJzZXJcbiAgICAgKlxuICAgICAqIEJ5IEFsZXggQmVsbCB8ICBNSVQgTGljZW5zZVxuICAgICAqXG4gICAgICogTm9uLXN0cmljdCBidXQgYWNjdXJhdGUgYW5kIGxpZ2h0d2VpZ2h0IEpTIFBhcnNlciBmb3IgdGhlIHN0cmluZyB2YWx1ZSA8aW1nIHNpemVzPVwiaGVyZVwiPlxuICAgICAqXG4gICAgICogUmVmZXJlbmNlIGFsZ29yaXRobSBhdDpcbiAgICAgKiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjcGFyc2UtYS1zaXplcy1hdHRyaWJ1dGVcbiAgICAgKlxuICAgICAqIE1vc3QgY29tbWVudHMgYXJlIGNvcGllZCBpbiBkaXJlY3RseSBmcm9tIHRoZSBzcGVjXG4gICAgICogKGV4Y2VwdCBmb3IgY29tbWVudHMgaW4gcGFyZW5zKS5cbiAgICAgKlxuICAgICAqIEdyYW1tYXIgaXM6XG4gICAgICogPHNvdXJjZS1zaXplLWxpc3Q+ID0gPHNvdXJjZS1zaXplPiMgWyAsIDxzb3VyY2Utc2l6ZS12YWx1ZT4gXT8gfCA8c291cmNlLXNpemUtdmFsdWU+XG4gICAgICogPHNvdXJjZS1zaXplPiA9IDxtZWRpYS1jb25kaXRpb24+IDxzb3VyY2Utc2l6ZS12YWx1ZT5cbiAgICAgKiA8c291cmNlLXNpemUtdmFsdWU+ID0gPGxlbmd0aD5cbiAgICAgKiBodHRwOi8vd3d3LnczLm9yZy9odG1sL3dnL2RyYWZ0cy9odG1sL21hc3Rlci9lbWJlZGRlZC1jb250ZW50Lmh0bWwjYXR0ci1pbWctc2l6ZXNcbiAgICAgKlxuICAgICAqIEUuZy4gXCIobWF4LXdpZHRoOiAzMGVtKSAxMDB2dywgKG1heC13aWR0aDogNTBlbSkgNzB2dywgMTAwdndcIlxuICAgICAqIG9yIFwiKG1pbi13aWR0aDogMzBlbSksIGNhbGMoMzB2dyAtIDE1cHgpXCIgb3IganVzdCBcIjMwdndcIlxuICAgICAqXG4gICAgICogUmV0dXJucyB0aGUgZmlyc3QgdmFsaWQgPGNzcy1sZW5ndGg+IHdpdGggYSBtZWRpYSBjb25kaXRpb24gdGhhdCBldmFsdWF0ZXMgdG8gdHJ1ZSxcbiAgICAgKiBvciBcIjEwMHZ3XCIgaWYgYWxsIHZhbGlkIG1lZGlhIGNvbmRpdGlvbnMgZXZhbHVhdGUgdG8gZmFsc2UuXG4gICAgICpcbiAgICAgKi9cblxuICBmdW5jdGlvbiBwYXJzZVNpemVzKHN0clZhbHVlKSB7XG5cbiAgICAvLyAoUGVyY2VudGFnZSBDU1MgbGVuZ3RocyBhcmUgbm90IGFsbG93ZWQgaW4gdGhpcyBjYXNlLCB0byBhdm9pZCBjb25mdXNpb246XG4gICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI3ZhbGlkLXNvdXJjZS1zaXplLWxpc3RcbiAgICAvLyBDU1MgYWxsb3dzIGEgc2luZ2xlIG9wdGlvbmFsIHBsdXMgb3IgbWludXMgc2lnbjpcbiAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyL3N5bmRhdGEuaHRtbCNudW1iZXJzXG4gICAgLy8gQ1NTIGlzIEFTQ0lJIGNhc2UtaW5zZW5zaXRpdmU6XG4gICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMi9zeW5kYXRhLmh0bWwjY2hhcmFjdGVycyApXG4gICAgLy8gU3BlYyBhbGxvd3MgZXhwb25lbnRpYWwgbm90YXRpb24gZm9yIDxudW1iZXI+IHR5cGU6XG4gICAgLy8gaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXZhbHVlcy8jbnVtYmVyc1xuICAgIHZhciByZWdleENzc0xlbmd0aFdpdGhVbml0cyA9IC9eKD86WystXT9bMC05XSt8WzAtOV0qXFwuWzAtOV0rKSg/OltlRV1bKy1dP1swLTldKyk/KD86Y2h8Y218ZW18ZXh8aW58bW18cGN8cHR8cHh8cmVtfHZofHZtaW58dm1heHx2dykkL2k7XG5cbiAgICAvLyAoVGhpcyBpcyBhIHF1aWNrIGFuZCBsZW5pZW50IHRlc3QuIEJlY2F1c2Ugb2Ygb3B0aW9uYWwgdW5saW1pdGVkLWRlcHRoIGludGVybmFsXG4gICAgLy8gZ3JvdXBpbmcgcGFyZW5zIGFuZCBzdHJpY3Qgc3BhY2luZyBydWxlcywgdGhpcyBjb3VsZCBnZXQgdmVyeSBjb21wbGljYXRlZC4pXG4gICAgdmFyIHJlZ2V4Q3NzQ2FsYyA9IC9eY2FsY1xcKCg/OlswLTlhLXogXFwuXFwrXFwtXFwqXFwvXFwoXFwpXSspXFwpJC9pO1xuXG4gICAgdmFyIGk7XG4gICAgdmFyIHVucGFyc2VkU2l6ZXNMaXN0O1xuICAgIHZhciB1bnBhcnNlZFNpemVzTGlzdExlbmd0aDtcbiAgICB2YXIgdW5wYXJzZWRTaXplO1xuICAgIHZhciBsYXN0Q29tcG9uZW50VmFsdWU7XG4gICAgdmFyIHNpemU7XG5cbiAgICAvLyBVVElMSVRZIEZVTkNUSU9OU1xuXG4gICAgLy8gIChUb3kgQ1NTIHBhcnNlci4gVGhlIGdvYWxzIGhlcmUgYXJlOlxuICAgIC8vICAxKSBleHBhbnNpdmUgdGVzdCBjb3ZlcmFnZSB3aXRob3V0IHRoZSB3ZWlnaHQgb2YgYSBmdWxsIENTUyBwYXJzZXIuXG4gICAgLy8gIDIpIEF2b2lkaW5nIHJlZ2V4IHdoZXJldmVyIGNvbnZlbmllbnQuXG4gICAgLy8gIFF1aWNrIHRlc3RzOiBodHRwOi8vanNmaWRkbGUubmV0L2d0bnRMNGdyLzMvXG4gICAgLy8gIFJldHVybnMgYW4gYXJyYXkgb2YgYXJyYXlzLilcbiAgICBmdW5jdGlvbiBwYXJzZUNvbXBvbmVudFZhbHVlcyhzdHIpIHtcbiAgICAgIHZhciBjaHJjdHI7XG4gICAgICB2YXIgY29tcG9uZW50ID0gXCJcIjtcbiAgICAgIHZhciBjb21wb25lbnRBcnJheSA9IFtdO1xuICAgICAgdmFyIGxpc3RBcnJheSA9IFtdO1xuICAgICAgdmFyIHBhcmVuRGVwdGggPSAwO1xuICAgICAgdmFyIHBvcyA9IDA7XG4gICAgICB2YXIgaW5Db21tZW50ID0gZmFsc2U7XG5cbiAgICAgIGZ1bmN0aW9uIHB1c2hDb21wb25lbnQoKSB7XG4gICAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgICBjb21wb25lbnRBcnJheS5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgICAgY29tcG9uZW50ID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwdXNoQ29tcG9uZW50QXJyYXkoKSB7XG4gICAgICAgIGlmIChjb21wb25lbnRBcnJheVswXSkge1xuICAgICAgICAgIGxpc3RBcnJheS5wdXNoKGNvbXBvbmVudEFycmF5KTtcbiAgICAgICAgICBjb21wb25lbnRBcnJheSA9IFtdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIChMb29wIGZvcndhcmRzIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgc3RyaW5nLilcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNocmN0ciA9IHN0ci5jaGFyQXQocG9zKTtcblxuICAgICAgICBpZiAoY2hyY3RyID09PSBcIlwiKSB7IC8vICggRW5kIG9mIHN0cmluZyByZWFjaGVkLilcbiAgICAgICAgICBwdXNoQ29tcG9uZW50KCk7XG4gICAgICAgICAgcHVzaENvbXBvbmVudEFycmF5KCk7XG4gICAgICAgICAgcmV0dXJuIGxpc3RBcnJheTtcbiAgICAgICAgfSBlbHNlIGlmIChpbkNvbW1lbnQpIHtcbiAgICAgICAgICBpZiAoKGNocmN0ciA9PT0gXCIqXCIpICYmIChzdHJbcG9zICsgMV0gPT09IFwiL1wiKSkgeyAvLyAoQXQgZW5kIG9mIGEgY29tbWVudC4pXG4gICAgICAgICAgICBpbkNvbW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHBvcyArPSAyO1xuICAgICAgICAgICAgcHVzaENvbXBvbmVudCgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvcyArPSAxOyAvLyAoU2tpcCBhbGwgY2hhcmFjdGVycyBpbnNpZGUgY29tbWVudHMuKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzU3BhY2UoY2hyY3RyKSkge1xuICAgICAgICAgIC8vIChJZiBwcmV2aW91cyBjaGFyYWN0ZXIgaW4gbG9vcCB3YXMgYWxzbyBhIHNwYWNlLCBvciBpZlxuICAgICAgICAgIC8vIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHN0cmluZywgZG8gbm90IGFkZCBzcGFjZSBjaGFyIHRvXG4gICAgICAgICAgLy8gY29tcG9uZW50LilcbiAgICAgICAgICBpZiAoKHN0ci5jaGFyQXQocG9zIC0gMSkgJiYgaXNTcGFjZShzdHIuY2hhckF0KHBvcyAtIDEpKSkgfHwgIWNvbXBvbmVudCkge1xuICAgICAgICAgICAgcG9zICs9IDE7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHBhcmVuRGVwdGggPT09IDApIHtcbiAgICAgICAgICAgIHB1c2hDb21wb25lbnQoKTtcbiAgICAgICAgICAgIHBvcyArPSAxO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIChSZXBsYWNlIGFueSBzcGFjZSBjaGFyYWN0ZXIgd2l0aCBhIHBsYWluIHNwYWNlIGZvciBsZWdpYmlsaXR5LilcbiAgICAgICAgICAgIGNocmN0ciA9IFwiIFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaHJjdHIgPT09IFwiKFwiKSB7XG4gICAgICAgICAgcGFyZW5EZXB0aCArPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGNocmN0ciA9PT0gXCIpXCIpIHtcbiAgICAgICAgICBwYXJlbkRlcHRoIC09IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hyY3RyID09PSBcIixcIikge1xuICAgICAgICAgIHB1c2hDb21wb25lbnQoKTtcbiAgICAgICAgICBwdXNoQ29tcG9uZW50QXJyYXkoKTtcbiAgICAgICAgICBwb3MgKz0gMTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmICgoY2hyY3RyID09PSBcIi9cIikgJiYgKHN0ci5jaGFyQXQocG9zICsgMSkgPT09IFwiKlwiKSkge1xuICAgICAgICAgIGluQ29tbWVudCA9IHRydWU7XG4gICAgICAgICAgcG9zICs9IDI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb21wb25lbnQgPSBjb21wb25lbnQgKyBjaHJjdHI7XG4gICAgICAgIHBvcyArPSAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVmFsaWROb25OZWdhdGl2ZVNvdXJjZVNpemVWYWx1ZShzKSB7XG4gICAgICBpZiAocmVnZXhDc3NMZW5ndGhXaXRoVW5pdHMudGVzdChzKSAmJiAocGFyc2VGbG9hdChzKSA+PSAwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChyZWdleENzc0NhbGMudGVzdChzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vICggaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMi9zeW5kYXRhLmh0bWwjbnVtYmVycyBzYXlzOlxuICAgICAgLy8gXCItMCBpcyBlcXVpdmFsZW50IHRvIDAgYW5kIGlzIG5vdCBhIG5lZ2F0aXZlIG51bWJlci5cIiB3aGljaCBtZWFucyB0aGF0XG4gICAgICAvLyB1bml0bGVzcyB6ZXJvIGFuZCB1bml0bGVzcyBuZWdhdGl2ZSB6ZXJvIG11c3QgYmUgYWNjZXB0ZWQgYXMgc3BlY2lhbCBjYXNlcy4pXG4gICAgICBpZiAoKHMgPT09IFwiMFwiKSB8fCAocyA9PT0gXCItMFwiKSB8fCAocyA9PT0gXCIrMFwiKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIGFza2VkIHRvIHBhcnNlIGEgc2l6ZXMgYXR0cmlidXRlIGZyb20gYW4gZWxlbWVudCwgcGFyc2UgYVxuICAgIC8vIGNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIGNvbXBvbmVudCB2YWx1ZXMgZnJvbSB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQnc1xuICAgIC8vIHNpemVzIGF0dHJpYnV0ZSAob3IgdGhlIGVtcHR5IHN0cmluZywgaWYgdGhlIGF0dHJpYnV0ZSBpcyBhYnNlbnQpLCBhbmQgbGV0XG4gICAgLy8gdW5wYXJzZWQgc2l6ZXMgbGlzdCBiZSB0aGUgcmVzdWx0LlxuICAgIC8vIGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzcy1zeW50YXgvI3BhcnNlLWNvbW1hLXNlcGFyYXRlZC1saXN0LW9mLWNvbXBvbmVudC12YWx1ZXNcblxuICAgIHVucGFyc2VkU2l6ZXNMaXN0ID0gcGFyc2VDb21wb25lbnRWYWx1ZXMoc3RyVmFsdWUpO1xuICAgIHVucGFyc2VkU2l6ZXNMaXN0TGVuZ3RoID0gdW5wYXJzZWRTaXplc0xpc3QubGVuZ3RoO1xuXG4gICAgLy8gRm9yIGVhY2ggdW5wYXJzZWQgc2l6ZSBpbiB1bnBhcnNlZCBzaXplcyBsaXN0OlxuICAgIGZvciAoaSA9IDA7IGkgPCB1bnBhcnNlZFNpemVzTGlzdExlbmd0aDsgaSsrKSB7XG4gICAgICB1bnBhcnNlZFNpemUgPSB1bnBhcnNlZFNpemVzTGlzdFtpXTtcblxuICAgICAgLy8gMS4gUmVtb3ZlIGFsbCBjb25zZWN1dGl2ZSA8d2hpdGVzcGFjZS10b2tlbj5zIGZyb20gdGhlIGVuZCBvZiB1bnBhcnNlZCBzaXplLlxuICAgICAgLy8gKCBwYXJzZUNvbXBvbmVudFZhbHVlcygpIGFscmVhZHkgb21pdHMgc3BhY2VzIG91dHNpZGUgb2YgcGFyZW5zLiApXG5cbiAgICAgIC8vIElmIHVucGFyc2VkIHNpemUgaXMgbm93IGVtcHR5LCB0aGF0IGlzIGEgcGFyc2UgZXJyb3I7IGNvbnRpbnVlIHRvIHRoZSBuZXh0XG4gICAgICAvLyBpdGVyYXRpb24gb2YgdGhpcyBhbGdvcml0aG0uXG4gICAgICAvLyAoIHBhcnNlQ29tcG9uZW50VmFsdWVzKCkgd29uJ3QgcHVzaCBhbiBlbXB0eSBhcnJheS4gKVxuXG4gICAgICAvLyAyLiBJZiB0aGUgbGFzdCBjb21wb25lbnQgdmFsdWUgaW4gdW5wYXJzZWQgc2l6ZSBpcyBhIHZhbGlkIG5vbi1uZWdhdGl2ZVxuICAgICAgLy8gPHNvdXJjZS1zaXplLXZhbHVlPiwgbGV0IHNpemUgYmUgaXRzIHZhbHVlIGFuZCByZW1vdmUgdGhlIGNvbXBvbmVudCB2YWx1ZVxuICAgICAgLy8gZnJvbSB1bnBhcnNlZCBzaXplLiBBbnkgQ1NTIGZ1bmN0aW9uIG90aGVyIHRoYW4gdGhlIGNhbGMoKSBmdW5jdGlvbiBpc1xuICAgICAgLy8gaW52YWxpZC4gT3RoZXJ3aXNlLCB0aGVyZSBpcyBhIHBhcnNlIGVycm9yOyBjb250aW51ZSB0byB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgIC8vIG9mIHRoaXMgYWxnb3JpdGhtLlxuICAgICAgLy8gaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXN5bnRheC8jcGFyc2UtY29tcG9uZW50LXZhbHVlXG4gICAgICBsYXN0Q29tcG9uZW50VmFsdWUgPSB1bnBhcnNlZFNpemVbdW5wYXJzZWRTaXplLmxlbmd0aCAtIDFdO1xuXG4gICAgICBpZiAoaXNWYWxpZE5vbk5lZ2F0aXZlU291cmNlU2l6ZVZhbHVlKGxhc3RDb21wb25lbnRWYWx1ZSkpIHtcbiAgICAgICAgc2l6ZSA9IGxhc3RDb21wb25lbnRWYWx1ZTtcbiAgICAgICAgdW5wYXJzZWRTaXplLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIDMuIFJlbW92ZSBhbGwgY29uc2VjdXRpdmUgPHdoaXRlc3BhY2UtdG9rZW4+cyBmcm9tIHRoZSBlbmQgb2YgdW5wYXJzZWRcbiAgICAgIC8vIHNpemUuIElmIHVucGFyc2VkIHNpemUgaXMgbm93IGVtcHR5LCByZXR1cm4gc2l6ZSBhbmQgZXhpdCB0aGlzIGFsZ29yaXRobS5cbiAgICAgIC8vIElmIHRoaXMgd2FzIG5vdCB0aGUgbGFzdCBpdGVtIGluIHVucGFyc2VkIHNpemVzIGxpc3QsIHRoYXQgaXMgYSBwYXJzZSBlcnJvci5cbiAgICAgIGlmICh1bnBhcnNlZFNpemUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgICAgfVxuXG4gICAgICAvLyA0LiBQYXJzZSB0aGUgcmVtYWluaW5nIGNvbXBvbmVudCB2YWx1ZXMgaW4gdW5wYXJzZWQgc2l6ZSBhcyBhXG4gICAgICAvLyA8bWVkaWEtY29uZGl0aW9uPi4gSWYgaXQgZG9lcyBub3QgcGFyc2UgY29ycmVjdGx5LCBvciBpdCBkb2VzIHBhcnNlXG4gICAgICAvLyBjb3JyZWN0bHkgYnV0IHRoZSA8bWVkaWEtY29uZGl0aW9uPiBldmFsdWF0ZXMgdG8gZmFsc2UsIGNvbnRpbnVlIHRvIHRoZVxuICAgICAgLy8gbmV4dCBpdGVyYXRpb24gb2YgdGhpcyBhbGdvcml0aG0uXG4gICAgICAvLyAoUGFyc2luZyBhbGwgcG9zc2libGUgY29tcG91bmQgbWVkaWEgY29uZGl0aW9ucyBpbiBKUyBpcyBoZWF2eSwgY29tcGxpY2F0ZWQsXG4gICAgICAvLyBhbmQgdGhlIHBheW9mZiBpcyB1bmNsZWFyLiBJcyB0aGVyZSBldmVyIGFuIHNpdHVhdGlvbiB3aGVyZSB0aGVcbiAgICAgIC8vIG1lZGlhIGNvbmRpdGlvbiBwYXJzZXMgaW5jb3JyZWN0bHkgYnV0IHN0aWxsIHNvbWVob3cgZXZhbHVhdGVzIHRvIHRydWU/XG4gICAgICAvLyBDYW4gd2UganVzdCByZWx5IG9uIHRoZSBicm93c2VyL3BvbHlmaWxsIHRvIGRvIGl0PylcbiAgICAgIHVucGFyc2VkU2l6ZSA9IHVucGFyc2VkU2l6ZS5qb2luKFwiIFwiKTtcbiAgICAgIGlmICghKHBmLm1hdGNoZXNNZWRpYSh1bnBhcnNlZFNpemUpKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gNS4gUmV0dXJuIHNpemUgYW5kIGV4aXQgdGhpcyBhbGdvcml0aG0uXG4gICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgYWJvdmUgYWxnb3JpdGhtIGV4aGF1c3RzIHVucGFyc2VkIHNpemVzIGxpc3Qgd2l0aG91dCByZXR1cm5pbmcgYVxuICAgIC8vIHNpemUgdmFsdWUsIHJldHVybiAxMDB2dy5cbiAgICByZXR1cm4gXCIxMDB2d1wiO1xuICB9XG5cbiAgLy8gbmFtZXNwYWNlXG4gIHBmLm5zID0gKFwicGZcIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpKS5zdWJzdHIoMCwgOSk7XG5cbiAgLy8gc3Jjc2V0IHN1cHBvcnQgdGVzdFxuICBwZi5zdXBTcmNzZXQgPSBcInNyY3NldFwiIGluIGltYWdlO1xuICBwZi5zdXBTaXplcyA9IFwic2l6ZXNcIiBpbiBpbWFnZTtcbiAgcGYuc3VwUGljdHVyZSA9ICEhd2luZG93LkhUTUxQaWN0dXJlRWxlbWVudDtcblxuICAvLyBVQyBicm93c2VyIGRvZXMgY2xhaW0gdG8gc3VwcG9ydCBzcmNzZXQgYW5kIHBpY3R1cmUsIGJ1dCBub3Qgc2l6ZXMsXG4gIC8vIHRoaXMgZXh0ZW5kZWQgdGVzdCByZXZlYWxzIHRoZSBicm93c2VyIGRvZXMgc3VwcG9ydCBub3RoaW5nXG4gIGlmIChwZi5zdXBTcmNzZXQgJiYgcGYuc3VwUGljdHVyZSAmJiAhcGYuc3VwU2l6ZXMpIHtcbiAgICAoZnVuY3Rpb24gKGltYWdlMikge1xuICAgICAgaW1hZ2Uuc3Jjc2V0ID0gXCJkYXRhOixhXCI7XG4gICAgICBpbWFnZTIuc3JjID0gXCJkYXRhOixhXCI7XG4gICAgICBwZi5zdXBTcmNzZXQgPSBpbWFnZS5jb21wbGV0ZSA9PT0gaW1hZ2UyLmNvbXBsZXRlO1xuICAgICAgcGYuc3VwUGljdHVyZSA9IHBmLnN1cFNyY3NldCAmJiBwZi5zdXBQaWN0dXJlO1xuICAgIH0pKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIikpO1xuICB9XG5cbiAgLy8gU2FmYXJpOSBoYXMgYmFzaWMgc3VwcG9ydCBmb3Igc2l6ZXMsIGJ1dCBkb2VzJ3QgZXhwb3NlIHRoZSBgc2l6ZXNgIGlkbCBhdHRyaWJ1dGVcbiAgaWYgKHBmLnN1cFNyY3NldCAmJiAhcGYuc3VwU2l6ZXMpIHtcblxuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgd2lkdGgyID0gXCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBZ0FCQVBBQUFQLy8vd0FBQUNINUJBQUFBQUFBTEFBQUFBQUNBQUVBQUFJQ0JBb0FPdz09XCI7XG4gICAgICB2YXIgd2lkdGgxID0gXCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PVwiO1xuICAgICAgdmFyIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICB2YXIgdGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gaW1nLndpZHRoO1xuXG4gICAgICAgIGlmICh3aWR0aCA9PT0gMikge1xuICAgICAgICAgIHBmLnN1cFNpemVzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFsd2F5c0NoZWNrV0Rlc2NyaXB0b3IgPSBwZi5zdXBTcmNzZXQgJiYgIXBmLnN1cFNpemVzO1xuXG4gICAgICAgIGlzU3VwcG9ydFRlc3RSZWFkeSA9IHRydWU7XG4gICAgICAgIC8vIGZvcmNlIGFzeW5jXG4gICAgICAgIHNldFRpbWVvdXQocGljdHVyZWZpbGwpO1xuICAgICAgfTtcblxuICAgICAgaW1nLm9ubG9hZCA9IHRlc3Q7XG4gICAgICBpbWcub25lcnJvciA9IHRlc3Q7XG4gICAgICBpbWcuc2V0QXR0cmlidXRlKFwic2l6ZXNcIiwgXCI5cHhcIik7XG5cbiAgICAgIGltZy5zcmNzZXQgPSB3aWR0aDEgKyBcIiAxdyxcIiArIHdpZHRoMiArIFwiIDl3XCI7XG4gICAgICBpbWcuc3JjID0gd2lkdGgxO1xuICAgIH0pKCk7XG5cbiAgfSBlbHNlIHtcbiAgICBpc1N1cHBvcnRUZXN0UmVhZHkgPSB0cnVlO1xuICB9XG5cbiAgLy8gdXNpbmcgcGYucXNhIGluc3RlYWQgb2YgZG9tIHRyYXZlcnNpbmcgZG9lcyBzY2FsZSBtdWNoIGJldHRlcixcbiAgLy8gZXNwZWNpYWxseSBvbiBzaXRlcyBtaXhpbmcgcmVzcG9uc2l2ZSBhbmQgbm9uLXJlc3BvbnNpdmUgaW1hZ2VzXG4gIHBmLnNlbFNob3J0ID0gXCJwaWN0dXJlPmltZyxpbWdbc3Jjc2V0XVwiO1xuICBwZi5zZWwgPSBwZi5zZWxTaG9ydDtcbiAgcGYuY2ZnID0gY2ZnO1xuXG4gIC8qKlxuICAgKiBTaG9ydGN1dCBwcm9wZXJ0eSBmb3IgYGRldmljZVBpeGVsUmF0aW9gICggZm9yIGVhc3kgb3ZlcnJpZGluZyBpbiB0ZXN0cyApXG4gICAqL1xuICBwZi5EUFIgPSAoRFBSIHx8IDEpO1xuICBwZi51ID0gdW5pdHM7XG5cbiAgLy8gY29udGFpbmVyIG9mIHN1cHBvcnRlZCBtaW1lIHR5cGVzIHRoYXQgb25lIG1pZ2h0IG5lZWQgdG8gcXVhbGlmeSBiZWZvcmUgdXNpbmdcbiAgcGYudHlwZXMgPSB0eXBlcztcblxuICBwZi5zZXRTaXplID0gbm9vcDtcblxuICAvKipcbiAgICogR2V0cyBhIHN0cmluZyBhbmQgcmV0dXJucyB0aGUgYWJzb2x1dGUgVVJMXG4gICAqIEBwYXJhbSBzcmNcbiAgICogQHJldHVybnMge1N0cmluZ30gYWJzb2x1dGUgVVJMXG4gICAqL1xuXG4gIHBmLm1ha2VVcmwgPSBtZW1vaXplKGZ1bmN0aW9uIChzcmMpIHtcbiAgICBhbmNob3IuaHJlZiA9IHNyYztcbiAgICByZXR1cm4gYW5jaG9yLmhyZWY7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBHZXRzIGEgRE9NIGVsZW1lbnQgb3IgZG9jdW1lbnQgYW5kIGEgc2VsY3RvciBhbmQgcmV0dXJucyB0aGUgZm91bmQgbWF0Y2hlc1xuICAgKiBDYW4gYmUgZXh0ZW5kZWQgd2l0aCBqUXVlcnkvU2l6emxlIGZvciBJRTcgc3VwcG9ydFxuICAgKiBAcGFyYW0gY29udGV4dFxuICAgKiBAcGFyYW0gc2VsXG4gICAqIEByZXR1cm5zIHtOb2RlTGlzdHxBcnJheX1cbiAgICovXG4gIHBmLnFzYSA9IGZ1bmN0aW9uIChjb250ZXh0LCBzZWwpIHtcbiAgICByZXR1cm4gKFwicXVlcnlTZWxlY3RvclwiIGluIGNvbnRleHQpID8gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHNlbCkgOiBbXTtcbiAgfTtcblxuICAvKipcbiAgICogU2hvcnRjdXQgbWV0aG9kIGZvciBtYXRjaE1lZGlhICggZm9yIGVhc3kgb3ZlcnJpZGluZyBpbiB0ZXN0cyApXG4gICAqIHdldGhlciBuYXRpdmUgb3IgcGYubU1RIGlzIHVzZWQgd2lsbCBiZSBkZWNpZGVkIGxhenkgb24gZmlyc3QgY2FsbFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHBmLm1hdGNoZXNNZWRpYSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEgJiYgKG1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiAwLjFlbSlcIikgfHwge30pLm1hdGNoZXMpIHtcbiAgICAgIHBmLm1hdGNoZXNNZWRpYSA9IGZ1bmN0aW9uIChtZWRpYSkge1xuICAgICAgICByZXR1cm4gIW1lZGlhIHx8IChtYXRjaE1lZGlhKG1lZGlhKS5tYXRjaGVzKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHBmLm1hdGNoZXNNZWRpYSA9IHBmLm1NUTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGYubWF0Y2hlc01lZGlhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgc2ltcGxpZmllZCBtYXRjaE1lZGlhIGltcGxlbWVudGF0aW9uIGZvciBJRTggYW5kIElFOVxuICAgKiBoYW5kbGVzIG9ubHkgbWluLXdpZHRoL21heC13aWR0aCB3aXRoIHB4IG9yIGVtIHZhbHVlc1xuICAgKiBAcGFyYW0gbWVkaWFcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBwZi5tTVEgPSBmdW5jdGlvbiAobWVkaWEpIHtcbiAgICByZXR1cm4gbWVkaWEgPyBldmFsQ1NTKG1lZGlhKSA6IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNhbGN1bGF0ZWQgbGVuZ3RoIGluIGNzcyBwaXhlbCBmcm9tIHRoZSBnaXZlbiBzb3VyY2VTaXplVmFsdWVcbiAgICogaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXZhbHVlcy0zLyNsZW5ndGgtdmFsdWVcbiAgICogaW50ZW5kZWQgU3BlYyBtaXNtYXRjaGVzOlxuICAgKiAqIERvZXMgbm90IGNoZWNrIGZvciBpbnZhbGlkIHVzZSBvZiBDU1MgZnVuY3Rpb25zXG4gICAqICogRG9lcyBoYW5kbGUgYSBjb21wdXRlZCBsZW5ndGggb2YgMCB0aGUgc2FtZSBhcyBhIG5lZ2F0aXZlIGFuZCB0aGVyZWZvcmUgaW52YWxpZCB2YWx1ZVxuICAgKiBAcGFyYW0gc291cmNlU2l6ZVZhbHVlXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAqL1xuICBwZi5jYWxjTGVuZ3RoID0gZnVuY3Rpb24gKHNvdXJjZVNpemVWYWx1ZSkge1xuXG4gICAgdmFyIHZhbHVlID0gZXZhbENTUyhzb3VyY2VTaXplVmFsdWUsIHRydWUpIHx8IGZhbHNlO1xuICAgIGlmICh2YWx1ZSA8IDApIHtcbiAgICAgIHZhbHVlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUYWtlcyBhIHR5cGUgc3RyaW5nIGFuZCBjaGVja3MgaWYgaXRzIHN1cHBvcnRlZFxuICAgKi9cblxuICBwZi5zdXBwb3J0c1R5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgIHJldHVybiAodHlwZSkgPyB0eXBlc1t0eXBlXSA6IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhcnNlcyBhIHNvdXJjZVNpemUgaW50byBtZWRpYUNvbmRpdGlvbiAobWVkaWEpIGFuZCBzb3VyY2VTaXplVmFsdWUgKGxlbmd0aClcbiAgICogQHBhcmFtIHNvdXJjZVNpemVTdHJcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBwZi5wYXJzZVNpemUgPSBtZW1vaXplKGZ1bmN0aW9uIChzb3VyY2VTaXplU3RyKSB7XG4gICAgdmFyIG1hdGNoID0gKHNvdXJjZVNpemVTdHIgfHwgXCJcIikubWF0Y2gocmVnU2l6ZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lZGlhOiBtYXRjaCAmJiBtYXRjaFsxXSxcbiAgICAgIGxlbmd0aDogbWF0Y2ggJiYgbWF0Y2hbMl1cbiAgICB9O1xuICB9KTtcblxuICBwZi5wYXJzZVNldCA9IGZ1bmN0aW9uIChzZXQpIHtcbiAgICBpZiAoIXNldC5jYW5kcykge1xuICAgICAgc2V0LmNhbmRzID0gcGFyc2VTcmNzZXQoc2V0LnNyY3NldCwgc2V0KTtcbiAgICB9XG4gICAgcmV0dXJuIHNldC5jYW5kcztcbiAgfTtcblxuICAvKipcbiAgICogcmV0dXJucyAxZW0gaW4gY3NzIHB4IGZvciBodG1sL2JvZHkgZGVmYXVsdCBzaXplXG4gICAqIGZ1bmN0aW9uIHRha2VuIGZyb20gcmVzcG9uZGpzXG4gICAqIEByZXR1cm5zIHsqfG51bWJlcn1cbiAgICovXG4gIHBmLmdldEVtVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJvZHk7XG4gICAgaWYgKCFlbWlucHggJiYgKGJvZHkgPSBkb2N1bWVudC5ib2R5KSkge1xuICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgIG9yaWdpbmFsSFRNTENTUyA9IGRvY0VsZW0uc3R5bGUuY3NzVGV4dCxcbiAgICAgICAgb3JpZ2luYWxCb2R5Q1NTID0gYm9keS5zdHlsZS5jc3NUZXh0O1xuXG4gICAgICBkaXYuc3R5bGUuY3NzVGV4dCA9IGJhc2VTdHlsZTtcblxuICAgICAgLy8gMWVtIGluIGEgbWVkaWEgcXVlcnkgaXMgdGhlIHZhbHVlIG9mIHRoZSBkZWZhdWx0IGZvbnQgc2l6ZSBvZiB0aGUgYnJvd3NlclxuICAgICAgLy8gcmVzZXQgZG9jRWxlbSBhbmQgYm9keSB0byBlbnN1cmUgdGhlIGNvcnJlY3QgdmFsdWUgaXMgcmV0dXJuZWRcbiAgICAgIGRvY0VsZW0uc3R5bGUuY3NzVGV4dCA9IGZzQ3NzO1xuICAgICAgYm9keS5zdHlsZS5jc3NUZXh0ID0gZnNDc3M7XG5cbiAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgIGVtaW5weCA9IGRpdi5vZmZzZXRXaWR0aDtcbiAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoZGl2KTtcblxuICAgICAgLy9hbHNvIHVwZGF0ZSBlbWlucHggYmVmb3JlIHJldHVybmluZ1xuICAgICAgZW1pbnB4ID0gcGFyc2VGbG9hdChlbWlucHgsIDEwKTtcblxuICAgICAgLy8gcmVzdG9yZSB0aGUgb3JpZ2luYWwgdmFsdWVzXG4gICAgICBkb2NFbGVtLnN0eWxlLmNzc1RleHQgPSBvcmlnaW5hbEhUTUxDU1M7XG4gICAgICBib2R5LnN0eWxlLmNzc1RleHQgPSBvcmlnaW5hbEJvZHlDU1M7XG5cbiAgICB9XG4gICAgcmV0dXJuIGVtaW5weCB8fCAxNjtcbiAgfTtcblxuICAvKipcbiAgICogVGFrZXMgYSBzdHJpbmcgb2Ygc2l6ZXMgYW5kIHJldHVybnMgdGhlIHdpZHRoIGluIHBpeGVscyBhcyBhIG51bWJlclxuICAgKi9cbiAgcGYuY2FsY0xpc3RMZW5ndGggPSBmdW5jdGlvbiAoc291cmNlU2l6ZUxpc3RTdHIpIHtcbiAgICAvLyBTcGxpdCB1cCBzb3VyY2Ugc2l6ZSBsaXN0LCBpZSAoIG1heC13aWR0aDogMzBlbSApIDEwMCUsICggbWF4LXdpZHRoOiA1MGVtICkgNTAlLCAzMyVcbiAgICAvL1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgKG1pbi13aWR0aDozMGVtKSBjYWxjKDMwJSAtIDE1cHgpXG4gICAgaWYgKCEoc291cmNlU2l6ZUxpc3RTdHIgaW4gc2l6ZUxlbmd0aENhY2hlKSB8fCBjZmcudVQpIHtcbiAgICAgIHZhciB3aW5uaW5nTGVuZ3RoID0gcGYuY2FsY0xlbmd0aChwYXJzZVNpemVzKHNvdXJjZVNpemVMaXN0U3RyKSk7XG5cbiAgICAgIHNpemVMZW5ndGhDYWNoZVtzb3VyY2VTaXplTGlzdFN0cl0gPSAhd2lubmluZ0xlbmd0aCA/IHVuaXRzLndpZHRoIDogd2lubmluZ0xlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2l6ZUxlbmd0aENhY2hlW3NvdXJjZVNpemVMaXN0U3RyXTtcbiAgfTtcblxuICAvKipcbiAgICogVGFrZXMgYSBjYW5kaWRhdGUgb2JqZWN0IHdpdGggYSBzcmNzZXQgcHJvcGVydHkgaW4gdGhlIGZvcm0gb2YgdXJsL1xuICAgKiBleC4gXCJpbWFnZXMvcGljLW1lZGl1bS5wbmcgMXgsIGltYWdlcy9waWMtbWVkaXVtLTJ4LnBuZyAyeFwiIG9yXG4gICAqICAgICBcImltYWdlcy9waWMtbWVkaXVtLnBuZyA0MDB3LCBpbWFnZXMvcGljLW1lZGl1bS0yeC5wbmcgODAwd1wiIG9yXG4gICAqICAgICBcImltYWdlcy9waWMtc21hbGwucG5nXCJcbiAgICogR2V0IGFuIGFycmF5IG9mIGltYWdlIGNhbmRpZGF0ZXMgaW4gdGhlIGZvcm0gb2ZcbiAgICogICAgICB7dXJsOiBcIi9mb28vYmFyLnBuZ1wiLCByZXNvbHV0aW9uOiAxfVxuICAgKiB3aGVyZSByZXNvbHV0aW9uIGlzIGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzcy12YWx1ZXMtMy8jcmVzb2x1dGlvbi12YWx1ZVxuICAgKiBJZiBzaXplcyBpcyBzcGVjaWZpZWQsIHJlcyBpcyBjYWxjdWxhdGVkXG4gICAqL1xuICBwZi5zZXRSZXMgPSBmdW5jdGlvbiAoc2V0KSB7XG4gICAgdmFyIGNhbmRpZGF0ZXM7XG4gICAgaWYgKHNldCkge1xuXG4gICAgICBjYW5kaWRhdGVzID0gcGYucGFyc2VTZXQoc2V0KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNhbmRpZGF0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgc2V0UmVzb2x1dGlvbihjYW5kaWRhdGVzW2ldLCBzZXQuc2l6ZXMpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2FuZGlkYXRlcztcbiAgfTtcblxuICBwZi5zZXRSZXMucmVzID0gc2V0UmVzb2x1dGlvbjtcblxuICBwZi5hcHBseVNldENhbmRpZGF0ZSA9IGZ1bmN0aW9uIChjYW5kaWRhdGVzLCBpbWcpIHtcbiAgICBpZiAoIWNhbmRpZGF0ZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjYW5kaWRhdGUsXG4gICAgICBpLFxuICAgICAgaixcbiAgICAgIGxlbmd0aCxcbiAgICAgIGJlc3RDYW5kaWRhdGUsXG4gICAgICBjdXJTcmMsXG4gICAgICBjdXJDYW4sXG4gICAgICBjYW5kaWRhdGVTcmMsXG4gICAgICBhYm9ydEN1clNyYztcblxuICAgIHZhciBpbWFnZURhdGEgPSBpbWdbcGYubnNdO1xuICAgIHZhciBkcHIgPSBwZi5EUFI7XG5cbiAgICBjdXJTcmMgPSBpbWFnZURhdGEuY3VyU3JjIHx8IGltZ1tjdXJTcmNQcm9wXTtcblxuICAgIGN1ckNhbiA9IGltYWdlRGF0YS5jdXJDYW4gfHwgc2V0U3JjVG9DdXIoaW1nLCBjdXJTcmMsIGNhbmRpZGF0ZXNbMF0uc2V0KTtcblxuICAgIC8vIGlmIHdlIGhhdmUgYSBjdXJyZW50IHNvdXJjZSwgd2UgbWlnaHQgZWl0aGVyIGJlY29tZSBsYXp5IG9yIGdpdmUgdGhpcyBzb3VyY2Ugc29tZSBhZHZhbnRhZ2VcbiAgICBpZiAoY3VyQ2FuICYmIGN1ckNhbi5zZXQgPT09IGNhbmRpZGF0ZXNbMF0uc2V0KSB7XG5cbiAgICAgIC8vIGlmIGJyb3dzZXIgY2FuIGFib3J0IGltYWdlIHJlcXVlc3QgYW5kIHRoZSBpbWFnZSBoYXMgYSBoaWdoZXIgcGl4ZWwgZGVuc2l0eSB0aGFuIG5lZWRlZFxuICAgICAgLy8gYW5kIHRoaXMgaW1hZ2UgaXNuJ3QgZG93bmxvYWRlZCB5ZXQsIHdlIHNraXAgbmV4dCBwYXJ0IGFuZCB0cnkgdG8gc2F2ZSBiYW5kd2lkdGhcbiAgICAgIGFib3J0Q3VyU3JjID0gKHN1cHBvcnRBYm9ydCAmJiAhaW1nLmNvbXBsZXRlICYmIGN1ckNhbi5yZXMgLSAwLjEgPiBkcHIpO1xuXG4gICAgICBpZiAoIWFib3J0Q3VyU3JjKSB7XG4gICAgICAgIGN1ckNhbi5jYWNoZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIGlmIGN1cnJlbnQgY2FuZGlkYXRlIGlzIFwiYmVzdFwiLCBcImJldHRlclwiIG9yIFwib2theVwiLFxuICAgICAgICAvLyBzZXQgaXQgdG8gYmVzdENhbmRpZGF0ZVxuICAgICAgICBpZiAoY3VyQ2FuLnJlcyA+PSBkcHIpIHtcbiAgICAgICAgICBiZXN0Q2FuZGlkYXRlID0gY3VyQ2FuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFiZXN0Q2FuZGlkYXRlKSB7XG5cbiAgICAgIGNhbmRpZGF0ZXMuc29ydChhc2NlbmRpbmdTb3J0KTtcblxuICAgICAgbGVuZ3RoID0gY2FuZGlkYXRlcy5sZW5ndGg7XG4gICAgICBiZXN0Q2FuZGlkYXRlID0gY2FuZGlkYXRlc1tsZW5ndGggLSAxXTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNhbmRpZGF0ZSA9IGNhbmRpZGF0ZXNbaV07XG4gICAgICAgIGlmIChjYW5kaWRhdGUucmVzID49IGRwcikge1xuICAgICAgICAgIGogPSBpIC0gMTtcblxuICAgICAgICAgIC8vIHdlIGhhdmUgZm91bmQgdGhlIHBlcmZlY3QgY2FuZGlkYXRlLFxuICAgICAgICAgIC8vIGJ1dCBsZXQncyBpbXByb3ZlIHRoaXMgYSBsaXR0bGUgYml0IHdpdGggc29tZSBhc3N1bXB0aW9ucyA7LSlcbiAgICAgICAgICBpZiAoY2FuZGlkYXRlc1tqXSAmJlxuICAgICAgICAgICAgKGFib3J0Q3VyU3JjIHx8IGN1clNyYyAhPT0gcGYubWFrZVVybChjYW5kaWRhdGUudXJsKSkgJiZcbiAgICAgICAgICAgIGNob29zZUxvd1JlcyhjYW5kaWRhdGVzW2pdLnJlcywgY2FuZGlkYXRlLnJlcywgZHByLCBjYW5kaWRhdGVzW2pdLmNhY2hlZCkpIHtcblxuICAgICAgICAgICAgYmVzdENhbmRpZGF0ZSA9IGNhbmRpZGF0ZXNbal07XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmVzdENhbmRpZGF0ZSA9IGNhbmRpZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYmVzdENhbmRpZGF0ZSkge1xuXG4gICAgICBjYW5kaWRhdGVTcmMgPSBwZi5tYWtlVXJsKGJlc3RDYW5kaWRhdGUudXJsKTtcblxuICAgICAgaW1hZ2VEYXRhLmN1clNyYyA9IGNhbmRpZGF0ZVNyYztcbiAgICAgIGltYWdlRGF0YS5jdXJDYW4gPSBiZXN0Q2FuZGlkYXRlO1xuXG4gICAgICBpZiAoY2FuZGlkYXRlU3JjICE9PSBjdXJTcmMpIHtcbiAgICAgICAgcGYuc2V0U3JjKGltZywgYmVzdENhbmRpZGF0ZSk7XG4gICAgICB9XG4gICAgICBwZi5zZXRTaXplKGltZyk7XG4gICAgfVxuICB9O1xuXG4gIHBmLnNldFNyYyA9IGZ1bmN0aW9uIChpbWcsIGJlc3RDYW5kaWRhdGUpIHtcbiAgICB2YXIgb3JpZ1dpZHRoO1xuICAgIGltZy5zcmMgPSBiZXN0Q2FuZGlkYXRlLnVybDtcblxuICAgIC8vIGFsdGhvdWdoIHRoaXMgaXMgYSBzcGVjaWZpYyBTYWZhcmkgaXNzdWUsIHdlIGRvbid0IHdhbnQgdG8gdGFrZSB0b28gbXVjaCBkaWZmZXJlbnQgY29kZSBwYXRoc1xuICAgIGlmIChiZXN0Q2FuZGlkYXRlLnNldC50eXBlID09PSBcImltYWdlL3N2Zyt4bWxcIikge1xuICAgICAgb3JpZ1dpZHRoID0gaW1nLnN0eWxlLndpZHRoO1xuICAgICAgaW1nLnN0eWxlLndpZHRoID0gKGltZy5vZmZzZXRXaWR0aCArIDEpICsgXCJweFwiO1xuXG4gICAgICAvLyBuZXh0IGxpbmUgb25seSBzaG91bGQgdHJpZ2dlciBhIHJlcGFpbnRcbiAgICAgIC8vIGlmLi4uIGlzIG9ubHkgZG9uZSB0byB0cmljayBkZWFkIGNvZGUgcmVtb3ZhbFxuICAgICAgaWYgKGltZy5vZmZzZXRXaWR0aCArIDEpIHtcbiAgICAgICAgaW1nLnN0eWxlLndpZHRoID0gb3JpZ1dpZHRoO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBwZi5nZXRTZXQgPSBmdW5jdGlvbiAoaW1nKSB7XG4gICAgdmFyIGksIHNldCwgc3VwcG9ydHNUeXBlO1xuICAgIHZhciBtYXRjaCA9IGZhbHNlO1xuICAgIHZhciBzZXRzID0gaW1nIFtwZi5uc10uc2V0cztcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzZXRzLmxlbmd0aCAmJiAhbWF0Y2g7IGkrKykge1xuICAgICAgc2V0ID0gc2V0c1tpXTtcblxuICAgICAgaWYgKCFzZXQuc3Jjc2V0IHx8ICFwZi5tYXRjaGVzTWVkaWEoc2V0Lm1lZGlhKSB8fCAhKHN1cHBvcnRzVHlwZSA9IHBmLnN1cHBvcnRzVHlwZShzZXQudHlwZSkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3VwcG9ydHNUeXBlID09PSBcInBlbmRpbmdcIikge1xuICAgICAgICBzZXQgPSBzdXBwb3J0c1R5cGU7XG4gICAgICB9XG5cbiAgICAgIG1hdGNoID0gc2V0O1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoO1xuICB9O1xuXG4gIHBmLnBhcnNlU2V0cyA9IGZ1bmN0aW9uIChlbGVtZW50LCBwYXJlbnQsIG9wdGlvbnMpIHtcbiAgICB2YXIgc3Jjc2V0QXR0cmlidXRlLCBpbWFnZVNldCwgaXNXRGVzY3JpcG9yLCBzcmNzZXRQYXJzZWQ7XG5cbiAgICB2YXIgaGFzUGljdHVyZSA9IHBhcmVudCAmJiBwYXJlbnQubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gXCJQSUNUVVJFXCI7XG4gICAgdmFyIGltYWdlRGF0YSA9IGVsZW1lbnRbcGYubnNdO1xuXG4gICAgaWYgKGltYWdlRGF0YS5zcmMgPT09IHVuZGVmaW5lZCB8fCBvcHRpb25zLnNyYykge1xuICAgICAgaW1hZ2VEYXRhLnNyYyA9IGdldEltZ0F0dHIuY2FsbChlbGVtZW50LCBcInNyY1wiKTtcbiAgICAgIGlmIChpbWFnZURhdGEuc3JjKSB7XG4gICAgICAgIHNldEltZ0F0dHIuY2FsbChlbGVtZW50LCBzcmNBdHRyLCBpbWFnZURhdGEuc3JjKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUltZ0F0dHIuY2FsbChlbGVtZW50LCBzcmNBdHRyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW1hZ2VEYXRhLnNyY3NldCA9PT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMuc3Jjc2V0IHx8ICFwZi5zdXBTcmNzZXQgfHwgZWxlbWVudC5zcmNzZXQpIHtcbiAgICAgIHNyY3NldEF0dHJpYnV0ZSA9IGdldEltZ0F0dHIuY2FsbChlbGVtZW50LCBcInNyY3NldFwiKTtcbiAgICAgIGltYWdlRGF0YS5zcmNzZXQgPSBzcmNzZXRBdHRyaWJ1dGU7XG4gICAgICBzcmNzZXRQYXJzZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGltYWdlRGF0YS5zZXRzID0gW107XG5cbiAgICBpZiAoaGFzUGljdHVyZSkge1xuICAgICAgaW1hZ2VEYXRhLnBpYyA9IHRydWU7XG4gICAgICBnZXRBbGxTb3VyY2VFbGVtZW50cyhwYXJlbnQsIGltYWdlRGF0YS5zZXRzKTtcbiAgICB9XG5cbiAgICBpZiAoaW1hZ2VEYXRhLnNyY3NldCkge1xuICAgICAgaW1hZ2VTZXQgPSB7XG4gICAgICAgIHNyY3NldDogaW1hZ2VEYXRhLnNyY3NldCxcbiAgICAgICAgc2l6ZXM6IGdldEltZ0F0dHIuY2FsbChlbGVtZW50LCBcInNpemVzXCIpXG4gICAgICB9O1xuXG4gICAgICBpbWFnZURhdGEuc2V0cy5wdXNoKGltYWdlU2V0KTtcblxuICAgICAgaXNXRGVzY3JpcG9yID0gKGFsd2F5c0NoZWNrV0Rlc2NyaXB0b3IgfHwgaW1hZ2VEYXRhLnNyYykgJiYgcmVnV0Rlc2MudGVzdChpbWFnZURhdGEuc3Jjc2V0IHx8IFwiXCIpO1xuXG4gICAgICAvLyBhZGQgbm9ybWFsIHNyYyBhcyBjYW5kaWRhdGUsIGlmIHNvdXJjZSBoYXMgbm8gdyBkZXNjcmlwdG9yXG4gICAgICBpZiAoIWlzV0Rlc2NyaXBvciAmJiBpbWFnZURhdGEuc3JjICYmICFnZXRDYW5kaWRhdGVGb3JTcmMoaW1hZ2VEYXRhLnNyYywgaW1hZ2VTZXQpICYmICFpbWFnZVNldC5oYXMxeCkge1xuICAgICAgICBpbWFnZVNldC5zcmNzZXQgKz0gXCIsIFwiICsgaW1hZ2VEYXRhLnNyYztcbiAgICAgICAgaW1hZ2VTZXQuY2FuZHMucHVzaCh7XG4gICAgICAgICAgdXJsOiBpbWFnZURhdGEuc3JjLFxuICAgICAgICAgIGQ6IDEsXG4gICAgICAgICAgc2V0OiBpbWFnZVNldFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoaW1hZ2VEYXRhLnNyYykge1xuICAgICAgaW1hZ2VEYXRhLnNldHMucHVzaCh7XG4gICAgICAgIHNyY3NldDogaW1hZ2VEYXRhLnNyYyxcbiAgICAgICAgc2l6ZXM6IG51bGxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGltYWdlRGF0YS5jdXJDYW4gPSBudWxsO1xuICAgIGltYWdlRGF0YS5jdXJTcmMgPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBpZiBpbWcgaGFzIHBpY3R1cmUgb3IgdGhlIHNyY3NldCB3YXMgcmVtb3ZlZCBvciBoYXMgYSBzcmNzZXQgYW5kIGRvZXMgbm90IHN1cHBvcnQgc3Jjc2V0IGF0IGFsbFxuICAgIC8vIG9yIGhhcyBhIHcgZGVzY3JpcHRvciAoYW5kIGRvZXMgbm90IHN1cHBvcnQgc2l6ZXMpIHNldCBzdXBwb3J0IHRvIGZhbHNlIHRvIGV2YWx1YXRlXG4gICAgaW1hZ2VEYXRhLnN1cHBvcnRlZCA9ICEoaGFzUGljdHVyZSB8fCAoaW1hZ2VTZXQgJiYgIXBmLnN1cFNyY3NldCkgfHwgKGlzV0Rlc2NyaXBvciAmJiAhcGYuc3VwU2l6ZXMpKTtcblxuICAgIGlmIChzcmNzZXRQYXJzZWQgJiYgcGYuc3VwU3Jjc2V0ICYmICFpbWFnZURhdGEuc3VwcG9ydGVkKSB7XG4gICAgICBpZiAoc3Jjc2V0QXR0cmlidXRlKSB7XG4gICAgICAgIHNldEltZ0F0dHIuY2FsbChlbGVtZW50LCBzcmNzZXRBdHRyLCBzcmNzZXRBdHRyaWJ1dGUpO1xuICAgICAgICBlbGVtZW50LnNyY3NldCA9IFwiXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVJbWdBdHRyLmNhbGwoZWxlbWVudCwgc3Jjc2V0QXR0cik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGltYWdlRGF0YS5zdXBwb3J0ZWQgJiYgIWltYWdlRGF0YS5zcmNzZXQgJiYgKCghaW1hZ2VEYXRhLnNyYyAmJiBlbGVtZW50LnNyYykgfHwgZWxlbWVudC5zcmMgIT09IHBmLm1ha2VVcmwoaW1hZ2VEYXRhLnNyYykpKSB7XG4gICAgICBpZiAoaW1hZ2VEYXRhLnNyYyA9PT0gbnVsbCkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc3JjID0gaW1hZ2VEYXRhLnNyYztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpbWFnZURhdGEucGFyc2VkID0gdHJ1ZTtcbiAgfTtcblxuICBwZi5maWxsSW1nID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB2YXIgaW1hZ2VEYXRhO1xuICAgIHZhciBleHRyZW1lID0gb3B0aW9ucy5yZXNlbGVjdCB8fCBvcHRpb25zLnJlZXZhbHVhdGU7XG5cbiAgICAvLyBleHBhbmRvIGZvciBjYWNoaW5nIGRhdGEgb24gdGhlIGltZ1xuICAgIGlmICghZWxlbWVudFtwZi5uc10pIHtcbiAgICAgIGVsZW1lbnRbcGYubnNdID0ge307XG4gICAgfVxuXG4gICAgaW1hZ2VEYXRhID0gZWxlbWVudFtwZi5uc107XG5cbiAgICAvLyBpZiB0aGUgZWxlbWVudCBoYXMgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZCwgc2tpcCBpdFxuICAgIC8vIHVubGVzcyBgb3B0aW9ucy5yZWV2YWx1YXRlYCBpcyBzZXQgdG8gdHJ1ZSAoIHRoaXMsIGZvciBleGFtcGxlLFxuICAgIC8vIGlzIHNldCB0byB0cnVlIHdoZW4gcnVubmluZyBgcGljdHVyZWZpbGxgIG9uIGByZXNpemVgICkuXG4gICAgaWYgKCFleHRyZW1lICYmIGltYWdlRGF0YS5ldmFsZWQgPT09IGV2YWxJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghaW1hZ2VEYXRhLnBhcnNlZCB8fCBvcHRpb25zLnJlZXZhbHVhdGUpIHtcbiAgICAgIHBmLnBhcnNlU2V0cyhlbGVtZW50LCBlbGVtZW50LnBhcmVudE5vZGUsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmICghaW1hZ2VEYXRhLnN1cHBvcnRlZCkge1xuICAgICAgYXBwbHlCZXN0Q2FuZGlkYXRlKGVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbWFnZURhdGEuZXZhbGVkID0gZXZhbElkO1xuICAgIH1cbiAgfTtcblxuICBwZi5zZXR1cFJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWFscmVhZHlSdW4gfHwgaXNWd0RpcnR5IHx8IChEUFIgIT09IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSkge1xuICAgICAgdXBkYXRlTWV0cmljcygpO1xuICAgIH1cbiAgfTtcblxuICAvLyBJZiBwaWN0dXJlIGlzIHN1cHBvcnRlZCwgd2VsbCwgdGhhdCdzIGF3ZXNvbWUuXG4gIGlmIChwZi5zdXBQaWN0dXJlKSB7XG4gICAgcGljdHVyZWZpbGwgPSBub29wO1xuICAgIHBmLmZpbGxJbWcgPSBub29wO1xuICB9IGVsc2Uge1xuXG4gICAgLy8gU2V0IHVwIHBpY3R1cmUgcG9seWZpbGwgYnkgcG9sbGluZyB0aGUgZG9jdW1lbnRcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGlzRG9tUmVhZHk7XG4gICAgICB2YXIgcmVnUmVhZHkgPSB3aW5kb3cuYXR0YWNoRXZlbnQgPyAvZCR8XmMvIDogL2QkfF5jfF5pLztcblxuICAgICAgdmFyIHJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlYWR5U3RhdGUgPSBkb2N1bWVudC5yZWFkeVN0YXRlIHx8IFwiXCI7XG5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQocnVuLCByZWFkeVN0YXRlID09PSBcImxvYWRpbmdcIiA/IDIwMCA6IDk5OSk7XG4gICAgICAgIGlmIChkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgcGYuZmlsbEltZ3MoKTtcbiAgICAgICAgICBpc0RvbVJlYWR5ID0gaXNEb21SZWFkeSB8fCByZWdSZWFkeS50ZXN0KHJlYWR5U3RhdGUpO1xuICAgICAgICAgIGlmIChpc0RvbVJlYWR5KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciB0aW1lcklkID0gc2V0VGltZW91dChydW4sIGRvY3VtZW50LmJvZHkgPyA5IDogOTkpO1xuXG4gICAgICAvLyBBbHNvIGF0dGFjaCBwaWN0dXJlZmlsbCBvbiByZXNpemUgYW5kIHJlYWR5c3RhdGVjaGFuZ2VcbiAgICAgIC8vIGh0dHA6Ly9tb2Rlcm5qYXZhc2NyaXB0LmJsb2dzcG90LmNvbS8yMDEzLzA4L2J1aWxkaW5nLWJldHRlci1kZWJvdW5jZS5odG1sXG4gICAgICB2YXIgZGVib3VuY2UgPSBmdW5jdGlvbiAoZnVuYywgd2FpdCkge1xuICAgICAgICB2YXIgdGltZW91dCwgdGltZXN0YW1wO1xuICAgICAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGxhc3QgPSAobmV3IERhdGUoKSkgLSB0aW1lc3RhbXA7XG5cbiAgICAgICAgICBpZiAobGFzdCA8IHdhaXQpIHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0IC0gbGFzdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgZnVuYygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgdmFyIGxhc3RDbGllbnRXaWR0aCA9IGRvY0VsZW0uY2xpZW50SGVpZ2h0O1xuICAgICAgdmFyIG9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpc1Z3RGlydHkgPSBNYXRoLm1heCh3aW5kb3cuaW5uZXJXaWR0aCB8fCAwLCBkb2NFbGVtLmNsaWVudFdpZHRoKSAhPT0gdW5pdHMud2lkdGggfHwgZG9jRWxlbS5jbGllbnRIZWlnaHQgIT09IGxhc3RDbGllbnRXaWR0aDtcbiAgICAgICAgbGFzdENsaWVudFdpZHRoID0gZG9jRWxlbS5jbGllbnRIZWlnaHQ7XG4gICAgICAgIGlmIChpc1Z3RGlydHkpIHtcbiAgICAgICAgICBwZi5maWxsSW1ncygpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBvbih3aW5kb3csIFwicmVzaXplXCIsIGRlYm91bmNlKG9uUmVzaXplLCA5OSkpO1xuICAgICAgb24oZG9jdW1lbnQsIFwicmVhZHlzdGF0ZWNoYW5nZVwiLCBydW4pO1xuICAgIH0pKCk7XG4gIH1cblxuICBwZi5waWN0dXJlZmlsbCA9IHBpY3R1cmVmaWxsO1xuICAvL3VzZSB0aGlzIGludGVybmFsbHkgZm9yIGVhc3kgbW9ua2V5IHBhdGNoaW5nL3BlcmZvcm1hbmNlIHRlc3RpbmdcbiAgcGYuZmlsbEltZ3MgPSBwaWN0dXJlZmlsbDtcbiAgcGYudGVhcmRvd25SdW4gPSBub29wO1xuXG4gIC8qIGV4cG9zZSBtZXRob2RzIGZvciB0ZXN0aW5nICovXG4gIHBpY3R1cmVmaWxsLl8gPSBwZjtcblxuICB3aW5kb3cucGljdHVyZWZpbGxDRkcgPSB7XG4gICAgcGY6IHBmLFxuICAgIHB1c2g6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICB2YXIgbmFtZSA9IGFyZ3Muc2hpZnQoKTtcbiAgICAgIGlmICh0eXBlb2YgcGZbbmFtZV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBwZltuYW1lXS5hcHBseShwZiwgYXJncyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjZmdbbmFtZV0gPSBhcmdzWzBdO1xuICAgICAgICBpZiAoYWxyZWFkeVJ1bikge1xuICAgICAgICAgIHBmLmZpbGxJbWdzKHtyZXNlbGVjdDogdHJ1ZX0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHdoaWxlIChzZXRPcHRpb25zICYmIHNldE9wdGlvbnMubGVuZ3RoKSB7XG4gICAgd2luZG93LnBpY3R1cmVmaWxsQ0ZHLnB1c2goc2V0T3B0aW9ucy5zaGlmdCgpKTtcbiAgfVxuXG4gIC8qIGV4cG9zZSBwaWN0dXJlZmlsbCAqL1xuICB3aW5kb3cucGljdHVyZWZpbGwgPSBwaWN0dXJlZmlsbDtcblxuICAvKiBleHBvc2UgcGljdHVyZWZpbGwgKi9cbiAgaWYgKHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG4gICAgLy8gQ29tbW9uSlMsIGp1c3QgZXhwb3J0XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBwaWN0dXJlZmlsbDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRCBzdXBwb3J0XG4gICAgZGVmaW5lKFwicGljdHVyZWZpbGxcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHBpY3R1cmVmaWxsO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gSUU4IGV2YWxzIHRoaXMgc3luYywgc28gaXQgbXVzdCBiZSB0aGUgbGFzdCB0aGluZyB3ZSBkb1xuICBpZiAoIXBmLnN1cFBpY3R1cmUpIHtcbiAgICB0eXBlc1tcImltYWdlL3dlYnBcIl0gPSBkZXRlY3RUeXBlU3VwcG9ydChcImltYWdlL3dlYnBcIiwgXCJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSa29BQUFCWFJVSlFWbEE0V0FvQUFBQVFBQUFBQUFBQUFBQUFRVXhRU0F3QUFBQUJCeEFSL1E5RVJQOERBQUJXVURnZ0dBQUFBREFCQUowQktnRUFBUUFEQURRbHBBQURjQUQrKy8xUUFBPT1cIik7XG4gIH1cblxufSkod2luZG93LCBkb2N1bWVudCk7XG4iXX0=
